(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[466],{7021:function(e,t){"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!=typeof e)throw Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function a(e,t){i(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=n,t.bytes=i,t.hash=o,t.exists=s,t.output=a,t.default={number:r,bool:n,bytes:i,hash:o,exists:s,output:a}},7961:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;let n=r(7021),i=r(5758);class o extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){n.default.exists(this);let{view:t,buffer:r,blockLen:o}=this,s=(e=(0,i.toBytes)(e)).length;for(let n=0;n<s;){let a=Math.min(o-this.pos,s-n);if(a===o){let t=(0,i.createView)(e);for(;o<=s-n;n+=o)this.process(t,n);continue}r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){n.default.exists(this),n.default.output(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:o,isLE:s}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+c,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);let u=(0,i.createView)(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,h=this.get();if(l>h.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)u.setUint32(4*e,h[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}t.SHA2=o},6411:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},950:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;let n=r(7021),i=r(5758);class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,n.default.hash(e);let r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return n.default.exists(this),this.iHash.update(e),this}digestInto(e){n.default.exists(this),n.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.hmac=(e,t,r)=>new o(e,t).update(r).digest(),t.hmac.create=(e,t)=>new o(e,t)},4212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;let n=r(7961),i=r(5758),o=(e,t,r)=>e&t^~e&r,s=(e,t,r)=>e&t^e&r^t&r,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),u=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class l extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|u[0],this.B=0|u[1],this.C=0|u[2],this.D=0|u[3],this.E=0|u[4],this.F=0|u[5],this.G=0|u[6],this.H=0|u[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=c[e-15],r=c[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;c[e]=o+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:u,D:l,E:h,F:f,G:d,H:p}=this;for(let e=0;e<64;e++){let t=p+((0,i.rotr)(h,6)^(0,i.rotr)(h,11)^(0,i.rotr)(h,25))+o(h,f,d)+a[e]+c[e]|0,y=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+s(r,n,u)|0;p=d,d=f,f=h,h=l+t|0,l=u,u=n,n=r,r=t+y|0}r=r+this.A|0,n=n+this.B|0,u=u+this.C|0,l=l+this.D|0,h=h+this.E|0,f=f+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,n,u,l,h,f,d,p)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class h extends l{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)(()=>new l),t.sha224=(0,i.wrapConstructor)(()=>new h)},5758:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;let n=r(6411);if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw Error("Non little-endian hardware is not supported");let i=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));t.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=2*r,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");t[r]=i}return t};let o=async()=>{};async function s(e,r,n){let i=Date.now();for(let o=0;o<e;o++){n(o);let e=Date.now()-i;e>=0&&e<r||(await (0,t.nextTick)(),i+=e)}}function a(e){if("string"!=typeof e)throw TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function u(e){if("string"==typeof e&&(e=a(e)),!(e instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}t.nextTick=o,t.asyncLoop=s,t.utf8ToBytes=a,t.toBytes=u,t.concatBytes=function(...e){if(!e.every(e=>e instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===e.length)return e[0];let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0));for(let r=0,n=0;r<e.length;r++){let i=e[r];t.set(i,n),n+=i.length}return t};class c{clone(){return this._cloneInto()}}t.Hash=c;let l=e=>"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object;t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||!l(t)))throw TypeError("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){let t=t=>e().update(u(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(u(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto.web)return n.crypto.web.getRandomValues(new Uint8Array(e));if(n.crypto.node)return new Uint8Array(n.crypto.node.randomBytes(e).buffer);throw Error("The environment doesn't have randomBytes function")}},9459:function(e,t,r){"use strict";let n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.schnorr=t.verify=t.signSync=t.sign=t.getSharedSecret=t.recoverPublicKey=t.getPublicKey=t.Signature=t.Point=t.CURVE=void 0;let o=r(9159),s=BigInt(0),a=BigInt(1),u=BigInt(2),c=BigInt(3),l=BigInt(8),h=Object.freeze({a:s,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:a,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});t.CURVE=h;let f=(e,t)=>(e+t/u)/t,d={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){let{n:t}=h,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-a*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=BigInt("0x100000000000000000000000000000000"),s=f(r*e,t),u=f(-n*e,t),c=O(e-s*r-u*i,t),l=O(-s*n-u*r,t),d=c>o,p=l>o;if(d&&(c=t-c),p&&(l=t-l),c>o||l>o)throw Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:p,k2:l}}};function p(e){let{a:t,b:r}=h,n=O(e*e),i=O(n*e);return O(i+t*e+r)}let y=h.a===s;class g extends Error{constructor(e){super(e)}}function w(e){if(!(e instanceof b))throw TypeError("JacobianPoint expected")}class b{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof E))throw TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(E.ZERO)?b.ZERO:new b(e.x,e.y,a)}static toAffineBatch(e){let t=function(e,t=h.P){let r=Array(e.length),n=_(e.reduce((e,n,i)=>n===s?e:(r[i]=e,O(e*n,t)),a),t);return e.reduceRight((e,n,i)=>n===s?e:(r[i]=O(e*r[i],t),O(e*n,t)),n),r}(e.map(e=>e.z));return e.map((e,r)=>e.toAffine(t[r]))}static normalizeZ(e){return b.toAffineBatch(e).map(b.fromAffine)}equals(e){w(e);let{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e,a=O(n*n),u=O(s*s),c=O(t*u),l=O(i*a),h=O(O(r*s)*u),f=O(O(o*n)*a);return c===l&&h===f}negate(){return new b(this.x,O(-this.y),this.z)}double(){let{x:e,y:t,z:r}=this,n=O(e*e),i=O(t*t),o=O(i*i),s=e+i,a=O(u*(O(s*s)-n-o)),h=O(c*n),f=O(h*h),d=O(f-u*a),p=O(h*(a-d)-l*o);return new b(d,p,O(u*t*r))}add(e){w(e);let{x:t,y:r,z:n}=this,{x:i,y:o,z:a}=e;if(i===s||o===s)return this;if(t===s||r===s)return e;let c=O(n*n),l=O(a*a),h=O(t*l),f=O(i*c),d=O(O(r*a)*l),p=O(O(o*n)*c),y=O(f-h),g=O(p-d);if(y===s)return g===s?this.double():b.ZERO;let m=O(y*y),S=O(y*m),E=O(h*m),A=O(g*g-S-u*E),v=O(g*(E-A)-d*S);return new b(A,v,O(n*a*y))}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let t=b.ZERO;if("bigint"==typeof e&&e===s)return t;let r=k(e);if(r===a)return this;if(!y){let e=t,n=this;for(;r>s;)r&a&&(e=e.add(n)),n=n.double(),r>>=a;return e}let{k1neg:n,k1:i,k2neg:o,k2:u}=d.splitScalar(r),c=t,l=t,h=this;for(;i>s||u>s;)i&a&&(c=c.add(h)),u&a&&(l=l.add(h)),h=h.double(),i>>=a,u>>=a;return n&&(c=c.negate()),o&&(l=l.negate()),l=new b(O(l.x*d.beta),l.y,l.z),c.add(l)}precomputeWindow(e){let t=y?128/e+1:256/e+1,r=[],n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(b.BASE)&&(t=E.BASE);let r=t&&t._WINDOW_SIZE||1;if(256%r)throw Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&S.get(t);!n&&(n=this.precomputeWindow(r),t&&1!==r&&(n=b.normalizeZ(n),S.set(t,n)));let i=b.ZERO,o=b.BASE,s=1+(y?128/r:256/r),u=2**(r-1),c=BigInt(2**r-1),l=2**r,h=BigInt(r);for(let t=0;t<s;t++){let r=t*u,s=Number(e&c);e>>=h,s>u&&(s-=l,e+=a);let f=r+Math.abs(s)-1,d=t%2!=0,p=s<0;0===s?o=o.add(m(d,n[r])):i=i.add(m(p,n[f]))}return{p:i,f:o}}multiply(e,t){let r,n,i=k(e);if(y){let{k1neg:e,k1:o,k2neg:s,k2:a}=d.splitScalar(i),{p:u,f:c}=this.wNAF(o,t),{p:l,f:h}=this.wNAF(a,t);u=m(e,u),l=new b(O((l=m(s,l)).x*d.beta),l.y,l.z),r=u.add(l),n=c.add(h)}else{let{p:e,f:o}=this.wNAF(i,t);r=e,n=o}return b.normalizeZ([r,n])[0]}toAffine(e){let{x:t,y:r,z:n}=this,i=this.equals(b.ZERO);null==e&&(e=i?l:_(n));let o=e,s=O(o*o),u=O(s*o),c=O(t*s),h=O(r*u),f=O(n*o);if(i)return E.ZERO;if(f!==a)throw Error("invZ was invalid");return new E(c,h)}}function m(e,t){let r=t.negate();return e?r:t}b.BASE=new b(h.Gx,h.Gy,a),b.ZERO=new b(s,a,s);let S=new WeakMap;class E{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,S.delete(this)}hasEvenY(){return this.y%u===s}static fromCompressedHex(e){let t=32===e.length,r=D(t?e:e.subarray(1));if(!F(r))throw Error("Point is not on curve");let n=function(e){let{P:t}=h,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),l=e*e*e%t,f=l*l*e%t,d=B(f,c)*f%t,p=B(d,c)*f%t,y=B(p,u)*l%t,g=B(y,n)*y%t,w=B(g,i)*g%t,b=B(w,s)*w%t,m=B(b,a)*b%t,S=B(m,s)*w%t,E=B(S,c)*f%t,A=B(E,o)*g%t,v=B(A,r)*l%t,M=B(v,u);if(M*M%t!==e)throw Error("Cannot find square root");return M}(p(r)),i=(n&a)===a;t?i&&(n=O(-n)):(1&e[0])==1!==i&&(n=O(-n));let o=new E(r,n);return o.assertValidity(),o}static fromUncompressedHex(e){let t=new E(D(e.subarray(1,33)),D(e.subarray(33,65)));return t.assertValidity(),t}static fromHex(e){let t=P(e),r=t.length,n=t[0];if(32===r||33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return E.BASE.multiply(W(e))}static fromSignature(e,t,r){let{r:n,s:i}=V(t);if(![0,1,2,3].includes(r))throw Error("Cannot recover: invalid recovery bit");let o=R(P(e)),{n:s}=h,a=2===r||3===r?n+s:n,u=_(a,s),c=O(-o*u,s),l=O(i*u,s),f=1&r?"03":"02",d=E.fromHex(f+N(a)),p=E.BASE.multiplyAndAddUnsafe(d,c,l);if(!p)throw Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(e=!1){return U(this.toHex(e))}toHex(e=!1){let t=N(this.x);if(!e)return`04${t}${N(this.y)}`;{let e=this.hasEvenY()?"02":"03";return`${e}${t}`}}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:t,y:r}=this;if(!F(t)||!F(r))throw Error(e);let n=O(r*r);if(O(n-p(t))!==s)throw Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new E(this.x,O(-this.y))}double(){return b.fromAffine(this).double().toAffine()}add(e){return b.fromAffine(this).add(b.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return b.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){let n=b.fromAffine(this),i=t===s||t===a||this!==E.BASE?n.multiplyUnsafe(t):n.multiply(t),o=b.fromAffine(e).multiplyUnsafe(r),u=i.add(o);return u.equals(b.ZERO)?void 0:u.toAffine()}}function A(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function v(e){if(e.length<2||2!==e[0])throw Error(`Invalid signature integer tag: ${C(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw Error("Invalid signature integer: trailing length");return{data:D(r),left:e.subarray(t+2)}}t.Point=E,E.BASE=new E(h.Gx,h.Gy),E.ZERO=new E(s,s);class M{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){let t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw TypeError(`${r}: Expected string or Uint8Array`);let n=t?C(e):e;if(128!==n.length)throw Error(`${r}: Expected 64-byte hex`);return new M(j(n.slice(0,64)),j(n.slice(64,128)))}static fromDER(e){let t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw TypeError("Signature.fromDER: Expected string or Uint8Array");let{r,s:n}=function(e){if(e.length<2||48!=e[0])throw Error(`Invalid signature tag: ${C(e)}`);if(e[1]!==e.length-2)throw Error("Invalid signature: incorrect length");let{data:t,left:r}=v(e.subarray(2)),{data:n,left:i}=v(r);if(i.length)throw Error(`Invalid signature: left bytes after parsing: ${C(i)}`);return{r:t,s:n}}(t?e:U(e));return new M(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:t}=this;if(!z(e))throw Error("Invalid Signature: r must be 0 < r < n");if(!z(t))throw Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=h.n>>a;return this.s>e}normalizeS(){return this.hasHighS()?new M(this.r,O(-this.s,h.n)):this}toDERRawBytes(){return U(this.toDERHex())}toDERHex(){let e=A($(this.s)),t=A($(this.r)),r=e.length/2,n=t.length/2,i=$(r),o=$(n),s=$(n+r+4);return`30${s}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return U(this.toCompactHex())}toCompactHex(){return N(this.r)+N(this.s)}}function x(...e){if(!e.every(e=>e instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===e.length)return e[0];let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0));for(let r=0,n=0;r<e.length;r++){let i=e[r];t.set(i,n),n+=i.length}return t}t.Signature=M;let I=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function C(e){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=I[e[r]];return t}let T=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function N(e){if("bigint"!=typeof e)throw Error("Expected bigint");if(!(s<=e&&e<T))throw Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function L(e){let t=U(N(e));if(32!==t.length)throw Error("Error: expected 32 bytes");return t}function $(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function j(e){if("string"!=typeof e)throw TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function U(e){if("string"!=typeof e)throw TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=2*r,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");t[r]=i}return t}function D(e){return j(C(e))}function P(e){return e instanceof Uint8Array?Uint8Array.from(e):U(e)}function k(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&z(e))return e;throw TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function O(e,t=h.P){let r=e%t;return r>=s?r:t+r}function B(e,t){let{P:r}=h,n=e;for(;t-- >s;)n*=n,n%=r;return n}function _(e,t=h.P){if(e===s||t<=s)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=O(e,t),n=t,i=s,o=a,u=a,c=s;for(;r!==s;){let e=n/r,t=n%r,s=i-u*e,a=o-c*e;n=r,r=t,i=u,o=c,u=s,c=a}if(n!==a)throw Error("invert: does not exist");return O(i,t)}function R(e,t=!1){let r=function(e){let t=8*e.length-256,r=D(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;let{n}=h;return r>=n?r-n:r}class H{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return t.utils.hmacSha256(this.k,...e)}hmacSync(...e){return i(this.k,...e)}checkSync(){if("function"!=typeof i)throw new g("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let r=this.v.slice();t.push(r),e+=this.v.length}return x(...t)}generateSync(){this.checkSync(),this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let r=this.v.slice();t.push(r),e+=this.v.length}return x(...t)}}function z(e){return s<e&&e<h.n}function F(e){return s<e&&e<h.P}function K(e,t,r,n=!0){let{n:i}=h,o=R(e,!0);if(!z(o))return;let u=_(o,i),c=E.BASE.multiply(o),l=O(c.x,i);if(l===s)return;let f=O(u*O(t+r*l,i),i);if(f===s)return;let d=new M(l,f),p=(c.x===d.r?0:2)|Number(c.y&a);return n&&d.hasHighS()&&(d=d.normalizeS(),p^=1),{sig:d,recovery:p}}function W(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw Error("Expected 32 bytes of private key");t=j(e)}else if(e instanceof Uint8Array){if(32!==e.length)throw Error("Expected 32 bytes of private key");t=D(e)}else throw TypeError("Expected valid private key");if(!z(t))throw Error("Expected private key: 0 < key < n");return t}function G(e){return e instanceof E?(e.assertValidity(),e):E.fromHex(e)}function V(e){if(e instanceof M)return e.assertValidity(),e;try{return M.fromDER(e)}catch(t){return M.fromCompact(e)}}function Y(e){let t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?33===n||65===n:r?66===n||130===n:e instanceof E}function Z(e){return D(e.length>32?e.slice(0,32):e)}function q(e,r,n){if(null==e)throw Error(`sign: expected valid message hash, not "${e}"`);let i=P(e),o=W(r),a=[L(o),function(e){let t=Z(e),r=O(t,h.n);return L(r<s?t:r)}(i)];if(null!=n){!0===n&&(n=t.utils.randomBytes(32));let e=P(n);if(32!==e.length)throw Error("sign: Expected 32 bytes of extra data");a.push(e)}return{seed:x(...a),m:Z(i),d:o}}function X(e,t){let{sig:r,recovery:n}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}async function Q(e,t,r={}){let n;let{seed:i,m:o,d:s}=q(e,t,r.extraEntropy),a=new H(32,32);for(await a.reseed(i);!(n=K(await a.generate(),o,s,r.canonical));)await a.reseed();return X(n,r)}t.getPublicKey=function(e,t=!1){return E.fromPrivateKey(e).toRawBytes(t)},t.recoverPublicKey=function(e,t,r,n=!1){return E.fromSignature(e,t,r).toRawBytes(n)},t.getSharedSecret=function(e,t,r=!1){if(Y(e))throw TypeError("getSharedSecret: first arg must be private key");if(!Y(t))throw TypeError("getSharedSecret: second arg must be public key");let n=G(t);return n.assertValidity(),n.multiply(W(e)).toRawBytes(r)},t.sign=Q,t.signSync=function(e,t,r={}){let n;let{seed:i,m:o,d:s}=q(e,t,r.extraEntropy),a=new H(32,32);for(a.reseedSync(i);!(n=K(a.generateSync(),o,s,r.canonical));)a.reseedSync();return X(n,r)};let J={strict:!0};function ee(e){return O(D(e),h.n)}t.verify=function(e,t,r,n=J){let i,o;try{i=V(e),t=P(t)}catch(e){return!1}let{r:s,s:a}=i;if(n.strict&&i.hasHighS())return!1;let u=R(t);try{o=G(r)}catch(e){return!1}let{n:c}=h,l=_(a,c),f=O(u*l,c),d=O(s*l,c),p=E.BASE.multiplyAndAddUnsafe(o,f,d);return!!p&&O(p.x,c)===s};class et{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){let t=P(e);if(64!==t.length)throw TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);return new et(D(t.subarray(0,32)),D(t.subarray(32,64)))}assertValidity(){let{r:e,s:t}=this;if(!F(e)||!z(t))throw Error("Invalid signature")}toHex(){return N(this.r)+N(this.s)}toRawBytes(){return U(this.toHex())}}class er{constructor(e,r,n=t.utils.randomBytes()){if(null==e)throw TypeError(`sign: Expected valid message, not "${e}"`);this.m=P(e);let{x:i,scalar:o}=this.getScalar(W(r));if(this.px=i,this.d=o,this.rand=P(n),32!==this.rand.length)throw TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let t=E.fromPrivateKey(e),r=t.hasEvenY()?e:h.n-e;return{point:t,scalar:r,x:t.toRawX()}}initNonce(e,t){return L(e^D(t))}finalizeNonce(e){let t=O(D(e),h.n);if(t===s)throw Error("sign: Creation of signature failed. k is zero");let{point:r,x:n,scalar:i}=this.getScalar(t);return{R:r,rx:n,k:i}}finalizeSig(e,t,r,n){return new et(e.x,O(t+r*n,h.n)).toRawBytes()}error(){throw Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:i}=this,o=t.utils.taggedHash,s=this.initNonce(r,await o(ec.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(await o(ec.nonce,s,n,e)),l=ee(await o(ec.challenge,u,n,e)),h=this.finalizeSig(a,c,l,r);return await es(h,e,n)||this.error(),h}calcSync(){let{m:e,d:r,px:n,rand:i}=this,o=t.utils.taggedHashSync,s=this.initNonce(r,o(ec.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(o(ec.nonce,s,n,e)),l=ee(o(ec.challenge,u,n,e)),h=this.finalizeSig(a,c,l,r);return ea(h,e,n)||this.error(),h}}async function en(e,t,r){return new er(e,t,r).calc()}function ei(e,t,r){let n=e instanceof et,i=n?e:et.fromHex(e);return n&&i.assertValidity(),{...i,m:P(t),P:G(r)}}function eo(e,t,r,n){let i=E.BASE.multiplyAndAddUnsafe(t,W(r),O(-n,h.n));return!!(i&&i.hasEvenY())&&i.x===e}async function es(e,r,n){try{let{r:i,s:o,m:s,P:a}=ei(e,r,n),u=ee(await t.utils.taggedHash(ec.challenge,L(i),a.toRawX(),s));return eo(i,a,o,u)}catch(e){return!1}}function ea(e,r,n){try{let{r:i,s:o,m:s,P:a}=ei(e,r,n),u=ee(t.utils.taggedHashSync(ec.challenge,L(i),a.toRawX(),s));return eo(i,a,o,u)}catch(e){if(e instanceof g)throw e;return!1}}t.schnorr={Signature:et,getPublicKey:function(e){return E.fromPrivateKey(e).toRawX()},sign:en,verify:es,signSync:function(e,t,r){return new er(e,t,r).calcSync()},verifySync:ea},E.BASE._setWindowSize(8);let eu={node:o,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},ec={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},el={};t.utils={bytesToHex:C,hexToBytes:U,concatBytes:x,mod:O,invert:_,isValidPrivateKey(e){try{return W(e),!0}catch(e){return!1}},_bigintTo32Bytes:L,_normalizePrivateKey:W,hashToPrivateKey:e=>{if((e=P(e)).length<40||e.length>1024)throw Error("Expected valid bytes of private key as per FIPS 186");return L(O(D(e),h.n-a)+a)},randomBytes:(e=32)=>{if(eu.web)return eu.web.getRandomValues(new Uint8Array(e));if(eu.node){let{randomBytes:t}=eu.node;return Uint8Array.from(t(e))}throw Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.hashToPrivateKey(t.utils.randomBytes(40)),precompute(e=8,t=E.BASE){let r=t===E.BASE?t:new E(t.x,t.y);return r._setWindowSize(e),r.multiply(c),r},sha256:async(...e)=>{if(eu.web)return new Uint8Array(await eu.web.subtle.digest("SHA-256",x(...e)));if(eu.node){let{createHash:t}=eu.node,r=t("sha256");return e.forEach(e=>r.update(e)),Uint8Array.from(r.digest())}throw Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(eu.web){let r=await eu.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=x(...t);return new Uint8Array(await eu.web.subtle.sign("HMAC",r,n))}if(eu.node){let{createHmac:r}=eu.node,n=r("sha256",e);return t.forEach(e=>n.update(e)),Uint8Array.from(n.digest())}throw Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...r)=>{let n=el[e];if(void 0===n){let r=await t.utils.sha256(Uint8Array.from(e,e=>e.charCodeAt(0)));n=x(r,r),el[e]=n}return t.utils.sha256(n,...r)},taggedHashSync:(e,...t)=>{if("function"!=typeof n)throw new g("sha256Sync is undefined, you need to set it");let r=el[e];if(void 0===r){let t=n(Uint8Array.from(e,e=>e.charCodeAt(0)));r=x(t,t),el[e]=r}return n(r,...t)},_JacobianPoint:b},Object.defineProperties(t.utils,{sha256Sync:{configurable:!1,get:()=>n,set(e){n||(n=e)}},hmacSha256Sync:{configurable:!1,get:()=>i,set(e){i||(i=e)}}})},3419:function(e,t,r){"use strict";r.d(t,{X:function(){return o}});var n=r(3306),i=r(7721);class o{constructor(e=n.f3.slice(),t=i.Rf("location",{returnEmptyObject:!0})?.origin,r="",o="/manifest.json",s,a=n._G){this.appDomain=t,this.scopes=e,this.redirectPath=r,this.manifestPath=o,this.coreNode=s,this.authenticatorURL=a}redirectURI(){return`${this.appDomain}${this.redirectPath}`}manifestURI(){return`${this.appDomain}${this.manifestPath}`}}},3306:function(e,t,r){"use strict";r.d(t,{_G:function(){return n},aL:function(){return s},f3:function(){return o},lB:function(){return i}});let n="https://browser.blockstack.org/auth",i={"@type":"Person","@context":"http://schema.org"},o=["store_write"],s="blockstack-session"},2477:function(e,t,r){"use strict";r.d(t,{V:function(){return ez}});var n,i,o,s,a,u,c,l,h,f,d,p,y,g,w,b,m,S,E,A,v,M,x,I,C,T,N,L,$,j,U,D,P,k,O,B,_=r(3419);let R={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(R);class H extends Error{constructor(e){super();let t=e.message,r=`Error Code: ${e.code}`,n=this.stack;if(n)r+=`Stack Trace:
${n}`;else try{throw Error()}catch(e){n=e.stack}t+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${r}`,this.message=t,this.code=e.code,this.parameter=e.parameter?e.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class z extends H{constructor(e,t=""){super({code:R.MISSING_PARAMETER,message:t,parameter:e}),this.name="MissingParametersError"}}class F extends H{constructor(e=""){super({code:R.INVALID_DID_ERROR,message:e}),this.name="InvalidDIDError"}}class K extends H{constructor(e){let t=`Failed to login: ${e}`;super({code:R.LOGIN_FAILED_ERROR,message:t}),this.message=t,this.name="LoginFailedError"}}class W extends H{constructor(e="Unable to decrypt cipher object."){super({code:R.FAILED_DECRYPTION_ERROR,message:e}),this.message=e,this.name="FailedDecryptionError"}}class G extends H{constructor(e){super({code:R.INVALID_STATE,message:e}),this.message=e,this.name="InvalidStateError"}}class V extends H{constructor(e){super({code:R.INVALID_STATE,message:e}),this.message=e,this.name="NoSessionDataError"}}let Y="1.0.0";class Z{constructor(e){this.version=Y,this.userData=e.userData,this.transitKey=e.transitKey,this.etags=e.etags?e.etags:{}}static fromJSON(e){if(e.version!==Y)throw new G(`JSON data version ${e.version} not supported by SessionData`);return new Z({coreNode:e.coreNode,userData:e.userData,transitKey:e.transitKey,etags:e.etags})}toString(){return JSON.stringify(this)}}var q=r(3306);class X{constructor(e){if(e){let t=new Z(e);this.setSessionData(t)}}getSessionData(){throw Error("Abstract class")}setSessionData(e){throw Error("Abstract class")}deleteSessionData(){throw Error("Abstract class")}}class Q extends X{constructor(e){super(e),this.sessionData||this.setSessionData(new Z({}))}getSessionData(){if(!this.sessionData)throw new V("No session data was found.");return this.sessionData}setSessionData(e){return this.sessionData=e,!0}deleteSessionData(){return this.setSessionData(new Z({})),!0}}class J extends X{constructor(e){if(super(e),e&&e.storeOptions&&e.storeOptions.localStorageKey&&"string"==typeof e.storeOptions.localStorageKey?this.key=e.storeOptions.localStorageKey:this.key=q.aL,!localStorage.getItem(this.key)){let e=new Z({});this.setSessionData(e)}}getSessionData(){let e=localStorage.getItem(this.key);if(!e)throw new V("No session data was found in localStorage");let t=JSON.parse(e);return Z.fromJSON(t)}setSessionData(e){return localStorage.setItem(this.key,e.toString()),!0}deleteSessionData(){return localStorage.removeItem(this.key),this.setSessionData(new Z({})),!0}}var ee=r(3877),et=r(3557),er=r(5530),en=r(1316),ei=r(7721),eo=r(5353),es=r(8672),ea=r.n(es),eu=r(7887),ec=r(8967);function el(e,t=0){var r,n;let i=(r="string"==typeof e?(0,ei.nr)(e):e,n=(0,er.J)(r),(0,eu.b)(n));return function(e){let t=(0,er.J)((0,er.J)(e));return ea().encode((0,ei.eV)(e,t).slice(0,e.length+4))}((0,ei.eV)(new Uint8Array([t]),i.slice(0,20)))}function eh(e){let t=(0,eo.z)(e);return(0,ei.ci)((0,en.$3)(t.slice(0,32),!0))}function ef(e){if(e&&"btc-addr"===function(e){let t=e.split(":");if(3!==t.length)throw new F("Decentralized IDs must have 3 parts");if("did"!==t[0].toLowerCase())throw new F('Decentralized IDs must start with "did"');return t[1].toLowerCase()}(e))return e.split(":")[2]}async function ed(e){return(await Promise.all([function(e){let t=(0,ee.decodeToken)(e).payload;if("string"==typeof t)throw Error("Unexpected token payload type of string");if(!t.exp)return!0;{if("number"!=typeof t.exp)return!1;let e=new Date(1e3*t.exp);return!(new Date().getTime()>e.getTime())}}(e),function(e){let t=(0,ee.decodeToken)(e).payload;if("string"==typeof t)throw Error("Unexpected token payload type of string");if(!t.iat)return!0;{if("number"!=typeof t.iat)return!1;let e=new Date(1e3*t.iat);return!(new Date().getTime()<e.getTime())}}(e),function(e){let t=(0,ee.decodeToken)(e).payload;if("string"==typeof t)throw Error("Unexpected token payload type of string");let r=t.public_keys;if(1===r.length){let t=r[0];try{return new ee.TokenVerifier("ES256k",t).verify(e)}catch(e){return!1}}else throw Error("Multiple public keys are not supported")}(e),function(e){let t=(0,ee.decodeToken)(e).payload;if("string"==typeof t)throw Error("Unexpected token payload type of string");let r=t.public_keys,n=ef(t.iss);if(1===r.length){if(el(r[0])===n)return!0}else throw Error("Multiple public keys are not supported");return!1}(e)])).every(e=>e)}en.P6.hmacSha256Sync=(e,...t)=>{let r=et.b.create(er.J,e);return t.forEach(e=>r.update(e)),r.digest()};var ep=r(8738);async function ey(){if("undefined"!=typeof crypto&&void 0!==crypto.subtle)return{lib:crypto.subtle,name:"subtleCrypto"};try{return{lib:r(8859),name:"nodeCrypto"}}catch(e){throw Error('Crypto lib not found. Either the WebCrypto "crypto.subtle" or Node.js "crypto" module must be available.')}}class eg{constructor(e,t){this.createCipher=e,this.createDecipher=t}async encrypt(e,t,r,n){if("aes-128-cbc"!==e&&"aes-256-cbc"!==e)throw Error(`Unsupported cipher algorithm "${e}"`);let i=this.createCipher(e,t,r);return Promise.resolve(new Uint8Array((0,ei.eV)(i.update(n),i.final())))}async decrypt(e,t,r,n){if("aes-128-cbc"!==e&&"aes-256-cbc"!==e)throw Error(`Unsupported cipher algorithm "${e}"`);let i=this.createDecipher(e,t,r);return Promise.resolve(new Uint8Array((0,ei.eV)(i.update(n),i.final())))}}class ew{constructor(e){this.subtleCrypto=e}async encrypt(e,t,r,n){let i,o;if("aes-128-cbc"===e)i="AES-CBC",o=128;else if("aes-256-cbc"===e)i="AES-CBC",o=256;else throw Error(`Unsupported cipher algorithm "${e}"`);let s=await this.subtleCrypto.importKey("raw",t,{name:i,length:o},!1,["encrypt"]);return new Uint8Array(await this.subtleCrypto.encrypt({name:i,iv:r},s,n))}async decrypt(e,t,r,n){let i,o;if("aes-128-cbc"===e)i="AES-CBC",o=128;else if("aes-256-cbc"===e)i="AES-CBC",o=256;else throw Error(`Unsupported cipher algorithm "${e}"`);let s=await this.subtleCrypto.importKey("raw",t,{name:i,length:o},!1,["decrypt"]);return new Uint8Array(await this.subtleCrypto.decrypt({name:i,iv:r},s,n))}}async function eb(){let e=await ey();return"subtleCrypto"===e.name?new ew(e.lib):new eg(e.lib.createCipheriv,e.lib.createDecipheriv)}async function em(e,t,r){let n=await eb();return await n.encrypt("aes-256-cbc",t,e,r)}async function eS(e,t,r){let n=await eb();return await n.decrypt("aes-256-cbc",t,e,r)}function eE(e,t){return(0,et.b)(er.J,e,t)}function eA(e){let t=(0,ec.o)(e);return{encryptionKey:t.slice(0,32),hmacKey:t.slice(32)}}async function ev(e,t,r,n){let i;let o=function(e){let t={result:!1,reason_data:"Invalid public key format",reason:E.InvalidFormat},r={result:!1,reason_data:"Public key is not a point",reason:E.IsNotPoint};if(66!==e.length&&130!==e.length)return t;let n=e.slice(0,2);if(130===e.length&&"04"!==n||66===e.length&&"02"!==n&&"03"!==n||!(null!==e.match(/^[0-9a-f]+$/i)))return t;try{return en.E9.fromHex(e).assertValidity(),{result:!0,reason_data:null,reason:null}}catch(e){return r}}(e);if(!o.result)throw o;let s=en.P6.randomPrivateKey(),a=(0,en.$3)(s,!0),u=(0,en.ZV)(s,e,!0),c=eA(u=u.slice(1)),l=en.P6.randomBytes(16),h=await em(l,c.encryptionKey,t),f=(0,ei.eV)(l,a,h),d=eE(c.hmacKey,f);if(n&&"hex"!==n){if("base64"===n)i=(0,ep.fromByteArray)(h);else throw Error(`Unexpected cipherTextEncoding "${n}"`)}else i=(0,ei.ci)(h);let p={iv:(0,ei.ci)(l),ephemeralPK:(0,ei.ci)(a),cipherText:i,mac:(0,ei.ci)(d),wasString:r};return n&&"hex"!==n&&(p.cipherTextEncoding=n),p}async function eM(e,t){let r;if(!t.ephemeralPK)throw new W("Unable to get public key from cipher object. You might be trying to decrypt an unencrypted object.");let n=t.ephemeralPK,i=(0,en.ZV)(e,n,!0),o=eA(i=i.slice(1)),s=(0,ei.nr)(t.iv);if(t.cipherTextEncoding&&"hex"!==t.cipherTextEncoding){if("base64"===t.cipherTextEncoding)r=(0,ep.toByteArray)(t.cipherText);else throw Error(`Unexpected cipherTextEncoding "${t.cipherText}"`)}else r=(0,ei.nr)(t.cipherText);let a=(0,ei.eV)(s,(0,ei.nr)(n),r),u=eE(o.hmacKey,a);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}((0,ei.nr)(t.mac),u))throw new W("Decryption failed: failure in MAC check");let c=await eS(s,o.encryptionKey,r);return t.wasString?(0,ei.Md)(c):c}async function ex(e,t){let r=JSON.parse((0,ei.Md)((0,ei.nr)(t))),n=await eM(e,r);if("string"==typeof n)return n;throw Error("Unable to correctly decrypt private key")}async function eI(e,t){let r;let n=Object.assign({},t);if(!n.publicKey){if(!n.privateKey)throw Error("Either public key or private key must be supplied for encryption.");n.publicKey=eh(n.privateKey)}let i="boolean"==typeof n.wasString?n.wasString:"string"==typeof e,o="string"==typeof e?(0,ei.iY)(e):e,s=JSON.stringify(await ev(n.publicKey,o,i,n.cipherTextEncoding));if(n.sign){"string"==typeof n.sign?r=n.sign:r||(r=n.privateKey);let e=function(e,t){let r="string"==typeof t?(0,ei.iY)(t):t,n=eh(e),i=(0,er.J)(r),o=(0,en.kS)(i,e);return{signature:(0,ei.ci)(o),publicKey:n}}(r,s);s=JSON.stringify({signature:e.signature,publicKey:e.publicKey,cipherText:s})}return s}en.P6.hmacSha256Sync=(e,...t)=>{let r=et.b.create(er.J,e);return t.forEach(e=>r.update(e)),r.digest()},(n=E||(E={})).InvalidFormat="InvalidFormat",n.IsNotPoint="IsNotPoint";var eC=r(6407),eT=r(189),eN=r(7457);(i=A||(A={}))[i.Testnet=2147483648]="Testnet",i[i.Mainnet=1]="Mainnet",A.Mainnet,(o=v||(v={}))[o.Address=0]="Address",o[o.Principal=1]="Principal",o[o.LengthPrefixedString=2]="LengthPrefixedString",o[o.MemoString=3]="MemoString",o[o.AssetInfo=4]="AssetInfo",o[o.PostCondition=5]="PostCondition",o[o.PublicKey=6]="PublicKey",o[o.LengthPrefixedList=7]="LengthPrefixedList",o[o.Payload=8]="Payload",o[o.MessageSignature=9]="MessageSignature",o[o.StructuredDataSignature=10]="StructuredDataSignature",o[o.TransactionAuthField=11]="TransactionAuthField",(s=M||(M={}))[s.TokenTransfer=0]="TokenTransfer",s[s.SmartContract=1]="SmartContract",s[s.VersionedSmartContract=6]="VersionedSmartContract",s[s.ContractCall=2]="ContractCall",s[s.PoisonMicroblock=3]="PoisonMicroblock",s[s.Coinbase=4]="Coinbase",s[s.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",s[s.TenureChange=7]="TenureChange",s[s.NakamotoCoinbase=8]="NakamotoCoinbase",(a=x||(x={}))[a.Clarity1=1]="Clarity1",a[a.Clarity2=2]="Clarity2",a[a.Clarity3=3]="Clarity3",(u=I||(I={}))[u.OnChainOnly=1]="OnChainOnly",u[u.OffChainOnly=2]="OffChainOnly",u[u.Any=3]="Any",I.OnChainOnly,I.OffChainOnly,I.Any,I.OnChainOnly,I.OnChainOnly,I.OffChainOnly,I.OffChainOnly,I.Any,I.Any,(c=C||(C={}))[c.Mainnet=0]="Mainnet",c[c.Testnet=128]="Testnet",C.Mainnet,(l=T||(T={}))[l.Allow=1]="Allow",l[l.Deny=2]="Deny",(h=N||(N={}))[h.STX=0]="STX",h[h.Fungible=1]="Fungible",h[h.NonFungible=2]="NonFungible",(f=L||(L={}))[f.Standard=4]="Standard",f[f.Sponsored=5]="Sponsored",(d=$||($={}))[d.SerializeP2PKH=0]="SerializeP2PKH",d[d.SerializeP2SH=1]="SerializeP2SH",d[d.SerializeP2WPKH=2]="SerializeP2WPKH",d[d.SerializeP2WSH=3]="SerializeP2WSH",d[d.SerializeP2SHNonSequential=5]="SerializeP2SHNonSequential",d[d.SerializeP2WSHNonSequential=7]="SerializeP2WSHNonSequential",(p=j||(j={}))[p.MainnetSingleSig=22]="MainnetSingleSig",p[p.MainnetMultiSig=20]="MainnetMultiSig",p[p.TestnetSingleSig=26]="TestnetSingleSig",p[p.TestnetMultiSig=21]="TestnetMultiSig",(y=U||(U={}))[y.Compressed=0]="Compressed",y[y.Uncompressed=1]="Uncompressed",(g=D||(D={}))[g.Equal=1]="Equal",g[g.Greater=2]="Greater",g[g.GreaterEqual=3]="GreaterEqual",g[g.Less=4]="Less",g[g.LessEqual=5]="LessEqual",(w=P||(P={}))[w.Sends=16]="Sends",w[w.DoesNotSend=17]="DoesNotSend",(b=k||(k={}))[b.Origin=1]="Origin",b[b.Standard=2]="Standard",b[b.Contract=3]="Contract",(m=O||(O={}))[m.STX=0]="STX",m[m.Fungible=1]="Fungible",m[m.NonFungible=2]="NonFungible",(S=B||(B={})).Serialization="Serialization",S.Deserialization="Deserialization",S.SignatureValidation="SignatureValidation",S.FeeTooLow="FeeTooLow",S.BadNonce="BadNonce",S.NotEnoughFunds="NotEnoughFunds",S.NoSuchContract="NoSuchContract",S.NoSuchPublicFunction="NoSuchPublicFunction",S.BadFunctionArgument="BadFunctionArgument",S.ContractAlreadyExists="ContractAlreadyExists",S.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",S.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",S.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",S.BadAddressVersionByte="BadAddressVersionByte",S.NoCoinbaseViaMempool="NoCoinbaseViaMempool",S.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",S.TooMuchChaining="TooMuchChaining",S.ConflictingNonceInMempool="ConflictingNonceInMempool",S.BadTransactionVersion="BadTransactionVersion",S.TransferRecipientCannotEqualSender="TransferRecipientCannotEqualSender",S.TransferAmountMustBePositive="TransferAmountMustBePositive",S.ServerFailureDatabase="ServerFailureDatabase",S.EstimatorError="EstimatorError",S.TemporarilyBlacklisted="TemporarilyBlacklisted",S.ServerFailureOther="ServerFailureOther",r(4702);let eL=e=>(0,eu.b)((0,er.J)(e)),e$=e=>(0,ei.ci)(eL(e));en.P6.hmacSha256Sync=(e,...t)=>{let r=et.b.create(er.J,e);return t.forEach(e=>r.update(e)),r.digest()},r(5441);let ej={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function eU(e,t){let r={};return Object.assign(r,ej,t),await fetch(e,r)}function eD(...e){let t,r;let{fetchLib:n,middlewares:i}=(t=eU,r=[],e.length>0&&"function"==typeof e[0]&&(t=e.shift()),e.length>0&&(r=e),{fetchLib:t,middlewares:r});return async(e,t)=>{let r={url:e,init:t??{}};for(let e of i)"function"==typeof e.pre&&(r=await Promise.resolve(e.pre({fetch:n,...r}))??r);let o=await n(r.url,r.init);for(let e of i)"function"==typeof e.post&&(o=await Promise.resolve(e.post({fetch:n,url:r.url,init:r.init,response:o?.clone()??o}))??o);return o}}let eP=["mainnet","testnet","devnet","mocknet"];class ek{constructor(e){this.version=eT.Kn.Mainnet,this.chainId=eT.oK.Mainnet,this.bnsLookupUrl="https://api.mainnet.hiro.so",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===eT.Kn.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=e=>`${this.coreApiUrl}${this.accountEndpoint}/${e}?proof=0`,this.getAccountExtendedBalancesApiUrl=e=>`${this.coreApiUrl}/extended/v1/address/${e}/balances`,this.getAbiApiUrl=(e,t)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${e}/${t}`,this.getReadOnlyFunctionCallApiUrl=(e,t,r)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${e}/${t}/${encodeURIComponent(r)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(e,t)=>{let r=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${e}`;return t&&(r=`${r}?limit=${t.limit}&offset=${t.offset}`),r},this.getRewardsTotalUrl=e=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${e}/total`,this.getRewardHoldersUrl=(e,t)=>{let r=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${e}`;return t&&(r=`${r}?limit=${t.limit}&offset=${t.offset}`),r},this.getStackerInfoUrl=(e,t)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${e}/${t}/get-stacker-info`,this.getDataVarUrl=(e,t,r)=>`${this.coreApiUrl}/v2/data_var/${e}/${t}/${r}?proof=0`,this.getMapEntryUrl=(e,t,r)=>`${this.coreApiUrl}/v2/map_entry/${e}/${t}/${r}?proof=0`,this.coreApiUrl=e.url,this.fetchFn=e.fetchFn??eD()}getNameInfo(e){let t=`${this.bnsLookupUrl}/v1/names/${e}`;return this.fetchFn(t).then(e=>{if(404===e.status)throw Error("Name not found");if(200===e.status)return e.json();throw Error(`Bad response status: ${e.status}`)}).then(e=>e.address?Object.assign({},e,{address:e.address}):e)}}ek.fromName=e=>{switch(e){case"mainnet":return new eO;case"testnet":return new eB;case"devnet":return new eR;case"mocknet":return new e_;default:throw Error(`Invalid network name provided. Must be one of the following: ${eP.join(", ")}`)}},ek.fromNameOrNetwork=e=>"string"!=typeof e&&"version"in e?e:ek.fromName(e);class eO extends ek{constructor(e){super({url:e?.url??"https://api.mainnet.hiro.so",fetchFn:e?.fetchFn}),this.version=eT.Kn.Mainnet,this.chainId=eT.oK.Mainnet}}class eB extends ek{constructor(e){super({url:e?.url??"https://api.testnet.hiro.so",fetchFn:e?.fetchFn}),this.version=eT.Kn.Testnet,this.chainId=eT.oK.Testnet}}class e_ extends ek{constructor(e){super({url:e?.url??"http://localhost:3999",fetchFn:e?.fetchFn}),this.version=eT.Kn.Testnet,this.chainId=eT.oK.Testnet}}let eR=e_,eH="_blockstackDidCheckEchoReply";class ez{constructor(e){let t=!0;if("undefined"==typeof window&&"undefined"==typeof self&&(t=!1),e&&e.appConfig)this.appConfig=e.appConfig;else if(t)this.appConfig=new _.X;else throw new z("You need to specify options.appConfig");e&&e.sessionStore?this.store=e.sessionStore:t?e?this.store=new J(e.sessionOptions):this.store=new J:e?this.store=new Q(e.sessionOptions):this.store=new Q}makeAuthRequestToken(e,t,r,n,i,o=(0,ei.cG)().getTime(),s={}){let a=this.appConfig;if(!a)throw new G("Missing AppConfig");return e=e||this.generateAndStoreTransitKey(),t=t||a.redirectURI(),r=r||a.manifestURI(),n=n||a.scopes,i=i||a.appDomain,function(e,t,r,n=q.f3.slice(),i,o=(0,ei.nD)().getTime(),s={}){let a=e=>{let t=(0,ei.Rf)("location",{throwIfUnavailable:!0,usageDesc:`makeAuthRequest([${e}=undefined])`});return t?.origin};t||(t=`${a("redirectURI")}/`),r||(r=`${a("manifestURI")}/manifest.json`),i||(i=a("appDomain"));let u=Object.assign({},s,{jti:(0,ei.gS)(),iat:Math.floor(new Date().getTime()/1e3),exp:Math.floor(o/1e3),iss:null,public_keys:[],domain_name:i,manifest_uri:r,redirect_uri:t,version:"1.4.0",do_not_include_profile:!0,supports_hub_url:!0,scopes:n}),c=ee.SECP256K1Client.derivePublicKey(e);u.public_keys=[c];let l=el(c);return u.iss=`did:btc-addr:${l}`,new ee.TokenSigner("ES256k",e).sign(u)}(e,t,r,n,i,o,s)}generateAndStoreTransitKey(){let e=this.store.getSessionData(),t=(0,ei.ci)(en.P6.randomPrivateKey());return e.transitKey=t,this.store.setSessionData(e),t}getAuthResponseToken(){return new URLSearchParams(ei.Rf("location",{throwIfUnavailable:!0,usageDesc:"getAuthResponseToken"})?.search).get("authResponse")??""}isSignInPending(){try{if(function(){var e;let t;if("undefined"!=typeof self)t=self;else{if("undefined"==typeof window)return!1;t=window}if(!t.location||!t.localStorage)return!1;let r=t[eH];if("boolean"==typeof r)return r;let n=(e=t.location.search)?(/^[?#]/.test(e)?e.slice(1):e).split("&").reduce((e,t)=>{let[r,n]=t.split("=");return e[r]=n?decodeURIComponent(n.replace(/\+/g," ")):"",e},{}):{},i=n.echoReply;if(i){t[eH]=!0;let e=`echo-reply-${i}`;return t.localStorage.setItem(e,"success"),t.setTimeout(()=>{let e=n.authContinuation;t.location.href=e},10),!0}return!1}())return eC.Y.info("protocolEchoReply detected from isSignInPending call, the page is about to redirect."),!0}catch(e){eC.Y.error(`Error checking for protocol echo reply isSignInPending: ${e}`)}return!!this.getAuthResponseToken()}isUserSignedIn(){return!!this.store.getSessionData().userData}async handlePendingSignIn(e=this.getAuthResponseToken(),t=eD()){let r;let n=this.store.getSessionData();if(n.userData)throw new K("Existing user session found.");let i=this.store.getSessionData().transitKey,o=this.appConfig&&this.appConfig.coreNode;o||(o=new eO().bnsLookupUrl);let s=(0,ee.decodeToken)(e).payload;if("string"==typeof s)throw Error("Unexpected token payload type of string");if(!await ed(e))throw new K("Invalid authentication response.");let a=s.private_key,u=s.core_token;if((0,ei.se)(s.version,"1.1.0")){if(void 0!==i&&null!=i){if(void 0!==s.private_key&&null!==s.private_key)try{a=await ex(i,s.private_key)}catch(e){var c;if(eC.Y.warn("Failed decryption of appPrivateKey, will try to use as given"),c=s.private_key,!en.P6.isValidPrivateKey((0,eo.z)(c)))throw new K("Failed decrypting appPrivateKey. Usually means that the transit key has changed during login.")}if(null!=u)try{u=await ex(i,u)}catch(e){eC.Y.info("Failed decryption of coreSessionToken, will try to use as given")}}else throw new K("Authenticating with protocol > 1.1.0 requires transit key, and none found.")}let l=eT.sM;(0,ei.se)(s.version,"1.2.0")&&null!==s.hubUrl&&void 0!==s.hubUrl&&(l=s.hubUrl),(0,ei.se)(s.version,"1.3.0")&&null!==s.associationToken&&void 0!==s.associationToken&&(r=s.associationToken);let h={profile:s.profile,email:s.email,decentralizedID:s.iss,identityAddress:ef(s.iss),appPrivateKey:a,coreSessionToken:u,authResponseToken:e,hubUrl:l,appPrivateKeyFromWalletSalt:s.appPrivateKeyFromWalletSalt,coreNode:s.blockstackAPIUrl,gaiaAssociationToken:r},f=s.profile_url;if(!h.profile&&f){let e=await t(f);if(e.ok){let t=JSON.parse(await e.text());h.profile=function(e,t=null){let r;r=t?function(e,t){let r=(0,ee.decodeToken)(e),n=r.payload;if("string"==typeof n)throw Error("Unexpected token payload type of string");if(n.hasOwnProperty("subject")&&n.subject){if(!n.subject.hasOwnProperty("publicKey"))throw Error("Token doesn't have a subject public key")}else throw Error("Token doesn't have a subject");if(n.hasOwnProperty("issuer")&&n.issuer){if(!n.issuer.hasOwnProperty("publicKey"))throw Error("Token doesn't have an issuer public key")}else throw Error("Token doesn't have an issuer");if(!n.hasOwnProperty("claim"))throw Error("Token doesn't have a claim");let i=n.issuer.publicKey,o=function(e,t=C.Mainnet){var r,n,i;return e="string"==typeof e?e:(0,ei.ci)(e),r=function(e,t){switch(e){case $.SerializeP2PKH:switch(t){case C.Mainnet:return j.MainnetSingleSig;case C.Testnet:return j.TestnetSingleSig;default:throw Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}case $.SerializeP2SH:case $.SerializeP2SHNonSequential:case $.SerializeP2WPKH:case $.SerializeP2WSH:case $.SerializeP2WSHNonSequential:switch(t){case C.Mainnet:return j.MainnetMultiSig;case C.Testnet:return j.TestnetMultiSig;default:throw Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}default:throw Error(`Unexpected hashMode ${JSON.stringify(e)}`)}}($.SerializeP2PKH,t),n=e$((0,ei.nr)(e)),i={type:v.Address,version:r,hash160:n},(0,eN.H4)(i.version,i.hash160)}(i);if(t===i);else if(t===o);else throw Error("Token issuer public key does not match the verifying value");let s=new ee.TokenVerifier(r.header.alg,i);if(!s)throw Error("Invalid token verifier");if(!s.verify(e))throw Error("Token verification failed");return r}(e,t):(0,ee.decodeToken)(e);let n={};if(r.hasOwnProperty("payload")){let e=r.payload;if("string"==typeof e)throw Error("Unexpected token payload type of string");e.hasOwnProperty("claim")&&(n=e.claim)}return n}(t[0].token)}else h.profile=Object.assign({},q.lB)}else h.profile=s.profile;return n.userData=h,this.store.setSessionData(n),h}loadUserData(){let e=this.store.getSessionData().userData;if(!e)throw new G("No user data found. Did the user sign in?");return e}encryptContent(e,t){let r=Object.assign({},t);return r.privateKey||(r.privateKey=this.loadUserData().appPrivateKey),eI(e,r)}decryptContent(e,t){let r=Object.assign({},t);return r.privateKey||(r.privateKey=this.loadUserData().appPrivateKey),function(e,t){let r=Object.assign({},t);if(!r.privateKey)throw Error("Private key is required for decryption.");try{let t=JSON.parse(e);return eM(r.privateKey,t)}catch(e){if(e instanceof SyntaxError)throw Error("Failed to parse encrypted content JSON. The content may not be encrypted. If using getFile, try passing { decrypt: false }.");throw e}}(e,r)}signUserOut(e){this.store.deleteSessionData(),e&&"undefined"!=typeof location&&location.href&&(location.href=e)}}ez.prototype.makeAuthRequest=ez.prototype.makeAuthRequestToken},189:function(e,t,r){"use strict";var n,i,o,s,a,u;r.d(t,{Kn:function(){return i},oK:function(){return n},sM:function(){return l},yo:function(){return c}}),(s=n||(n={}))[s.Testnet=2147483648]="Testnet",s[s.Mainnet=1]="Mainnet",(a=i||(i={}))[a.Mainnet=0]="Mainnet",a[a.Testnet=128]="Testnet",(u=o||(o={}))[u.Mainnet=385875968]="Mainnet",u[u.Testnet=4278190080]="Testnet";let c=33,l="https://hub.blockstack.org"},5353:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(7721);function i(e){let t="string"==typeof e?(0,n.nr)(e):e;if(32!=t.length&&33!=t.length)throw Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${t.length}`);if(33==t.length&&1!==t[32])throw Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return t}},6407:function(e,t,r){"use strict";r.d(t,{Y:function(){return s}});let n=["debug","info","warn","error","none"],i={},o={};for(let e=0;e<n.length;e++){let t=n[e];i[t]=e,o[e]=t}class s{static error(e){this.shouldLog("error")&&console.error(this.logMessage("error",e))}static warn(e){this.shouldLog("warn")&&console.warn(this.logMessage("warn",e))}static info(e){this.shouldLog("info")&&console.log(this.logMessage("info",e))}static debug(e){this.shouldLog("debug")&&console.log(this.logMessage("debug",e))}static logMessage(e,t){return`[${e.toUpperCase()}] ${t}`}static shouldLog(e){return i.debug<=i[e]}}},7721:function(e,t,r){"use strict";r.d(t,{$j:function(){return y},HN:function(){return l},I4:function(){return f},Md:function(){return S},QD:function(){return E},Qs:function(){return A},Rf:function(){return u},WR:function(){return d},WW:function(){return I},cG:function(){return o},ci:function(){return w},eV:function(){return x},gS:function(){return a},iY:function(){return m},jk:function(){return p},nD:function(){return i},nr:function(){return b},sO:function(){return c},se:function(){return s},y_:function(){return h}});var n=r(6407);function i(){return new Date(new Date().setMonth(new Date().getMonth()+1))}function o(){return new Date(new Date().setHours(new Date().getHours()+1))}function s(e,t){(void 0===e||""===e)&&(e="0.0.0"),(void 0===t||""===e)&&(t="0.0.0");let r=e.split(".").map(e=>parseInt(e,10)),n=t.split(".").map(e=>parseInt(e,10));for(let i=0;i<t.length;i++)if(i>=e.length&&n.push(0),r[i]<n[i])return!1;return!0}function a(){let e=new Date().getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)})}function u(e,{throwIfUnavailable:t,usageDesc:i,returnEmptyObject:o}={}){let s;try{if(s=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("Unexpected runtime environment - no supported global scope (`window`, `self`, `global`) available")}()){let t=s[e];if(t)return t}}catch(t){n.Y.error(`Error getting object '${e}' from global scope '${s}': ${t}`)}if(t){var a,u;let t=(a=s,u=e.toString(),i?`Use of '${i}' requires \`${u}\` which is unavailable on the '${a}' object within the currently executing environment.`:`\`${u}\` is unavailable on the '${a}' object within the currently executing environment.`);throw n.Y.error(t),Error(t)}if(o)return{}}function c(e,t,r){return p(l(e,t),r)}function l(e,t){let r=e;if("number"==typeof r){if(!Number.isInteger(r))throw RangeError("Invalid value. Values of type 'number' must be an integer.");if(r>Number.MAX_SAFE_INTEGER)throw RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(r)}if("string"==typeof r){if(r.toLowerCase().startsWith("0x")){let e=r.slice(2);r=b(e=e.padStart(e.length+e.length%2,"0"))}else try{return BigInt(r)}catch(e){if(e instanceof SyntaxError)throw RangeError(`Invalid value. String integer '${r}' is not finite.`)}}if("bigint"==typeof r)return r;if(r instanceof Uint8Array){var n,i,o;return t?BigInt((n=BigInt(`0x${w(r)}`),(o=(i=BigInt(8*r.byteLength))-BigInt(1),n&BigInt(1)<<o)?n-(BigInt(1)<<i):n).toString()):BigInt(`0x${w(r)}`)}if(null!=r&&"object"==typeof r&&"BN"===r.constructor.name)return BigInt(r.toString());throw TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}function h(e){if("string"!=typeof e)throw TypeError(`hexToBigInt: expected string, got ${typeof e}`);return BigInt(`0x${e}`)}function f(e,t=8){return("bigint"==typeof e?e:l(e,!1)).toString(16).padStart(2*t,"0")}function d(e){return parseInt(e,16)}function p(e,t=16){return b(f(e,t))}function y(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw`Unable to represent integer in width: ${t}`;return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}let g=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function w(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");let t="";for(let r of e)t+=g[r];return t}function b(e){if("string"!=typeof e)throw TypeError(`hexToBytes: expected string, got ${typeof e}`);let t=(e=e.startsWith("0x")||e.startsWith("0X")?e.slice(2):e).length%2?`0${e}`:e,r=new Uint8Array(t.length/2);for(let e=0;e<r.length;e++){let n=2*e,i=Number.parseInt(t.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[e]=i}return r}function m(e){return new TextEncoder().encode(e)}function S(e){return new TextDecoder().decode(e)}function E(e){let t=[];for(let r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return new Uint8Array(t)}function A(e){return String.fromCharCode.apply(null,e)}function v(e){return!Number.isInteger(e)||e<0||e>255}function M(e){if(e.some(v))throw Error("Some values are invalid bytes.");return new Uint8Array(e)}function x(...e){if(!e.every(e=>e instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===e.length)return e[0];let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0));for(let r=0,n=0;r<e.length;r++){let i=e[r];t.set(i,n),n+=i.length}return t}function I(e){return x(...e.map(e=>"number"==typeof e?M([e]):e instanceof Array?M(e):e))}},1898:function(e,t,r){"use strict";let n,i;r.d(t,{b:function(){return X},g:function(){return b},h:function(){return d},p:function(){return el},r:function(){return ee}});let o=!1,s=!1,a=(e,t="")=>()=>{},u=(e,t)=>()=>{},c={},l=e=>null!=e,h=e=>"object"==(e=typeof e)||"function"===e;function f(e){var t,r,n;return null!==(n=null===(r=null===(t=e.head)||void 0===t?void 0:t.querySelector('meta[name="csp-nonce"]'))||void 0===r?void 0:r.getAttribute("content"))&&void 0!==n?n:void 0}let d=(e,t,...r)=>{let n=null,i=!1,o=!1,s=[],a=t=>{for(let r=0;r<t.length;r++)Array.isArray(n=t[r])?a(n):null!=n&&"boolean"!=typeof n&&((i="function"!=typeof e&&!h(n))&&(n=String(n)),i&&o?s[s.length-1].$text$+=n:s.push(i?p(null,n):n),o=i)};if(a(r),t){let e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}let u=p(e,null);return u.$attrs$=t,s.length>0&&(u.$children$=s),u},p=(e,t)=>{let r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.$attrs$=null,r},y={},g=e=>e&&e.$tag$===y,w=(e,t)=>null!=e&&!h(e)&&4&t?"false"!==e&&(""===e||!!e):e,b=e=>J(e).$hostElement$,m=(e,t,r)=>{let n=ec.ce(t,r);return e.dispatchEvent(n),n},S=new WeakMap,E=(e,t,r)=>{let n=es.get(e);eh&&r?"string"==typeof(n=n||new CSSStyleSheet)?n=t:n.replaceSync(t):n=t,es.set(e,n)},A=(e,t,r,n)=>{var i;let o=M(t),s=es.get(o);if(e=11===e.nodeType?e:eu,s){if("string"==typeof s){let t;e=e.head||e;let r=S.get(e);if(r||S.set(e,r=new Set),!r.has(o)){{(t=eu.createElement("style")).innerHTML=s;let r=null!==(i=ec.$nonce$)&&void 0!==i?i:f(eu);null!=r&&t.setAttribute("nonce",r),e.insertBefore(t,e.querySelector("link"))}r&&r.add(o)}}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s])}return o},v=e=>{let t=e.$cmpMeta$,r=e.$hostElement$,n=t.$flags$,i=a("attachStyles",t.$tagName$),o=A(r.shadowRoot?r.shadowRoot:r.getRootNode(),t);10&n&&(r["s-sc"]=o,r.classList.add(o+"-h")),i()},M=(e,t)=>"sc-"+e.$tagName$,x=(e,t,r,n,i,o)=>{if(r!==n){let s=er(e,t),a=t.toLowerCase();if("class"===t){let t=e.classList,i=C(r),o=C(n);t.remove(...i.filter(e=>e&&!o.includes(e))),t.add(...o.filter(e=>e&&!i.includes(e)))}else if(s||"o"!==t[0]||"n"!==t[1]){let a=h(n);if((s||a&&null!==n)&&!i)try{if(e.tagName.includes("-"))e[t]=n;else{let i=null==n?"":n;"list"===t?s=!1:(null==r||e[t]!=i)&&(e[t]=i)}}catch(e){}null==n||!1===n?(!1!==n||""===e.getAttribute(t))&&e.removeAttribute(t):(!s||4&o||i)&&!a&&(n=!0===n?"":n,e.setAttribute(t,n))}else t="-"===t[2]?t.slice(3):er(ea,a)?a.slice(2):a[2]+t.slice(3),r&&ec.rel(e,t,r,!1),n&&ec.ael(e,t,n,!1)}},I=/\s/,C=e=>e?e.split(I):[],T=(e,t,r,n)=>{let i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||c,s=t.$attrs$||c;for(n in o)n in s||x(i,n,o[n],void 0,r,t.$flags$);for(n in s)x(i,n,o[n],s[n],r,t.$flags$)},N=(e,t,r,i)=>{let s,a;let u=t.$children$[r],c=0;if(null!==u.$text$)s=u.$elm$=eu.createTextNode(u.$text$);else{if(o||(o="svg"===u.$tag$),s=u.$elm$=eu.createElementNS(o?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",u.$tag$),o&&"foreignObject"===u.$tag$&&(o=!1),T(null,u,o),l(n)&&s["s-si"]!==n&&s.classList.add(s["s-si"]=n),u.$children$)for(c=0;c<u.$children$.length;++c)(a=N(e,u,c))&&s.appendChild(a);"svg"===u.$tag$?o=!1:"foreignObject"===s.tagName&&(o=!0)}return s},L=(e,t,r,n,o,s)=>{let a,u=e;for(u.shadowRoot&&u.tagName===i&&(u=u.shadowRoot);o<=s;++o)n[o]&&(a=N(null,r,o))&&(n[o].$elm$=a,u.insertBefore(a,t))},$=(e,t,r,n,i)=>{for(;t<=r;++t)(n=e[t])&&(0,n.$elm$).remove()},j=(e,t,r,n)=>{let i,o=0,s=0,a=t.length-1,u=t[0],c=t[a],l=n.length-1,h=n[0],f=n[l];for(;o<=a&&s<=l;)null==u?u=t[++o]:null==c?c=t[--a]:null==h?h=n[++s]:null==f?f=n[--l]:U(u,h)?(D(u,h),u=t[++o],h=n[++s]):U(c,f)?(D(c,f),c=t[--a],f=n[--l]):U(u,f)?(D(u,f),e.insertBefore(u.$elm$,c.$elm$.nextSibling),u=t[++o],f=n[--l]):U(c,h)?(D(c,h),e.insertBefore(c.$elm$,u.$elm$),c=t[--a],h=n[++s]):(i=N(t&&t[s],r,s),h=n[++s],i&&u.$elm$.parentNode.insertBefore(i,u.$elm$));o>a?L(e,null==n[l+1]?null:n[l+1].$elm$,r,n,s,l):s>l&&$(t,o,a)},U=(e,t)=>e.$tag$===t.$tag$,D=(e,t)=>{let r=t.$elm$=e.$elm$,n=e.$children$,i=t.$children$,s=t.$tag$,a=t.$text$;null===a?(T(e,t,o="svg"===s||"foreignObject"!==s&&o),null!==n&&null!==i?j(r,n,t,i):null!==i?(null!==e.$text$&&(r.textContent=""),L(r,null,t,i,0,i.length-1)):null!==n&&$(n,0,n.length-1),o&&"svg"===s&&(o=!1)):e.$text$!==a&&(r.data=a)},P=(e,t)=>{let r=e.$hostElement$,o=e.$vnode$||p(null,null),s=g(t)?t:d(null,null,t);i=r.tagName,s.$tag$=null,s.$flags$|=4,e.$vnode$=s,s.$elm$=o.$elm$=r.shadowRoot||r,n=r["s-sc"],D(o,s)},k=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(t=>e.$onRenderResolve$=t))},O=(e,t)=>{if(e.$flags$|=16,4&e.$flags$){e.$flags$|=512;return}return k(e,e.$ancestorComponent$),ew(()=>B(e,t))},B=(e,t)=>{let r;let n=a("scheduleUpdate",e.$cmpMeta$.$tagName$),i=e.$lazyInstance$;return n(),F(r,()=>_(e,i,t))},_=async(e,t,r)=>{let n=e.$hostElement$,i=a("update",e.$cmpMeta$.$tagName$),o=n["s-rc"];r&&v(e);let s=a("render",e.$cmpMeta$.$tagName$);R(e,t),o&&(o.map(e=>e()),n["s-rc"]=void 0),s(),i();{let t=n["s-p"],r=()=>H(e);0===t.length?r():(Promise.all(t).then(r),e.$flags$|=4,t.length=0)}},R=(e,t,r)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,P(e,t)}catch(t){en(t,e.$hostElement$)}return null},H=e=>{let t=e.$cmpMeta$.$tagName$,r=e.$hostElement$,n=a("postUpdate",t),i=e.$ancestorComponent$;64&e.$flags$?n():(e.$flags$|=64,K(r),n(),e.$onReadyResolve$(r),i||z()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&eg(()=>O(e,!1)),e.$flags$&=-517},z=e=>{K(eu.documentElement),eg(()=>m(ea,"appload",{detail:{namespace:"connect-ui"}}))},F=(e,t)=>e&&e.then?e.then(t):t(),K=e=>e.classList.add("hydrated"),W=(e,t)=>J(e).$instanceValues$.get(t),G=(e,t,r,n)=>{let i=J(e),o=i.$instanceValues$.get(t),s=i.$flags$,a=i.$lazyInstance$;r=w(r,n.$members$[t][0]);let u=Number.isNaN(o)&&Number.isNaN(r),c=r!==o&&!u;(!(8&s)||void 0===o)&&c&&(i.$instanceValues$.set(t,r),a&&(18&s)==2&&O(i,!1))},V=(e,t,r)=>{if(t.$members$){let n=Object.entries(t.$members$),i=e.prototype;if(n.map(([e,[n]])=>{(31&n||2&r&&32&n)&&Object.defineProperty(i,e,{get(){return W(this,e)},set(r){G(this,e,r,t)},configurable:!0,enumerable:!0})}),1&r){let t=new Map;i.attributeChangedCallback=function(e,r,n){ec.jmp(()=>{let r=t.get(e);if(this.hasOwnProperty(r))n=this[r],delete this[r];else if(i.hasOwnProperty(r)&&"number"==typeof this[r]&&this[r]==n)return;this[r]=(null!==n||"boolean"!=typeof this[r])&&n})},e.observedAttributes=n.filter(([e,t])=>15&t[0]).map(([e,r])=>{let n=r[1]||e;return t.set(n,e),n})}}return e},Y=async(e,t,r,n,i)=>{if((32&t.$flags$)==0){{if(t.$flags$|=32,(i=eo(r)).then){let e=u();i=await i,e()}i.isProxied||(V(i,r,2),i.isProxied=!0);let e=a("createInstance",r.$tagName$);t.$flags$|=8;try{new i(t)}catch(e){en(e)}t.$flags$&=-9,e()}if(i.style){let e=i.style,t=M(r);if(!es.has(t)){let n=a("registerStyles",r.$tagName$);E(t,e,!!(1&r.$flags$)),n()}}}let o=t.$ancestorComponent$,s=()=>O(t,!0);o&&o["s-rc"]?o["s-rc"].push(s):s()},Z=e=>{if((1&ec.$flags$)==0){let t=J(e),r=t.$cmpMeta$,n=a("connectedCallback",r.$tagName$);if(!(1&t.$flags$)){t.$flags$|=1;{let r=e;for(;r=r.parentNode||r.host;)if(r["s-p"]){k(t,t.$ancestorComponent$=r);break}}r.$members$&&Object.entries(r.$members$).map(([t,[r]])=>{if(31&r&&e.hasOwnProperty(t)){let r=e[t];delete e[t],e[t]=r}}),Y(e,t,r)}n()}},q=e=>{(1&ec.$flags$)==0&&J(e)},X=(e,t={})=>{var r;let n;let i=a(),o=[],s=t.exclude||[],u=ea.customElements,c=eu.head,l=c.querySelector("meta[charset]"),h=eu.createElement("style"),d=[],p=!0;Object.assign(ec,t),ec.$resourcesUrl$=new URL(t.resourcesUrl||"./",eu.baseURI).href,e.map(e=>{e[1].map(t=>{let r={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};r.$members$=t[2];let i=r.$tagName$,a=class extends HTMLElement{constructor(e){super(e),e=this,et(e,r),1&r.$flags$&&e.attachShadow({mode:"open"})}connectedCallback(){n&&(clearTimeout(n),n=null),p?d.push(this):ec.jmp(()=>Z(this))}disconnectedCallback(){ec.jmp(()=>q(this))}componentOnReady(){return J(this).$onReadyPromise$}};r.$lazyBundleId$=e[0],s.includes(i)||u.get(i)||(o.push(i),u.define(i,V(a,r,1)))})});{h.innerHTML=o+"{visibility:hidden}.hydrated{visibility:inherit}",h.setAttribute("data-styles","");let e=null!==(r=ec.$nonce$)&&void 0!==r?r:f(eu);null!=e&&h.setAttribute("nonce",e),c.insertBefore(h,l?l.nextSibling:c.firstChild)}p=!1,d.length?d.map(e=>e.connectedCallback()):ec.jmp(()=>n=setTimeout(z,30)),i()},Q=new WeakMap,J=e=>Q.get(e),ee=(e,t)=>Q.set(t.$lazyInstance$=e,t),et=(e,t)=>{let r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return r.$onReadyPromise$=new Promise(e=>r.$onReadyResolve$=e),e["s-p"]=[],e["s-rc"]=[],Q.set(e,r)},er=(e,t)=>t in e,en=(e,t)=>(0,console.error)(e,t),ei=new Map,eo=(e,t,n)=>{let i=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$,s=ei.get(o);return s?s[i]:n&&BUILD.hotModuleReplacement||"connect-modal"!==o?r(7938)(`./${o}.entry.js`).then(e=>(ei.set(o,e),e[i]),en):r.e(8).then(r.bind(r,8)).then(e=>(ei.set(o,e),e[i]),en)},es=new Map,ea="undefined"!=typeof window?window:{},eu=ea.document||{head:{}},ec={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,n)=>e.addEventListener(t,r,n),rel:(e,t,r,n)=>e.removeEventListener(t,r,n),ce:(e,t)=>new CustomEvent(e,t)},el=e=>Promise.resolve(e),eh=(()=>{try{return new CSSStyleSheet,"function"==typeof new CSSStyleSheet().replaceSync}catch(e){}return!1})(),ef=[],ed=[],ep=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){en(e)}e.length=0},ey=()=>{ep(ef),ep(ed),(s=ef.length>0)&&ec.raf(ey)},eg=e=>el().then(e),ew=e=>{ed.push(e),s||(s=!0,4&ec.$flags$?eg(ey):ec.raf(ey))}},6435:function(e,t,r){"use strict";r.d(t,{a:function(){return i},b:function(){return o},c:function(){return a},s:function(){return u}});let n=()=>"undefined"!=typeof window&&window.webbtc_stx_providers?window.webbtc_stx_providers:[],i=(e=[])=>{if("undefined"==typeof window)return[];let t=n(),r=e.filter(e=>!t.find(t=>t.id===e.id)&&!!o(e.id));return t.concat(r)},o=e=>null==e?void 0:e.split(".").reduce((e,t)=>null==e?void 0:e[t],window),s="STX_PROVIDER",a=()=>"undefined"==typeof window?null:window.localStorage.getItem(s),u=e=>{"undefined"!=typeof window&&window.localStorage.setItem(s,e)}},303:function(e,t,r){"use strict";r.d(t,{an:function(){return c}});var n=r(189);r(5441);let i={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function o(e,t){let r={};return Object.assign(r,i,t),await fetch(e,r)}let s=["mainnet","testnet","devnet","mocknet"];class a{constructor(e){this.version=n.Kn.Mainnet,this.chainId=n.oK.Mainnet,this.bnsLookupUrl="https://api.mainnet.hiro.so",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===n.Kn.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=e=>`${this.coreApiUrl}${this.accountEndpoint}/${e}?proof=0`,this.getAccountExtendedBalancesApiUrl=e=>`${this.coreApiUrl}/extended/v1/address/${e}/balances`,this.getAbiApiUrl=(e,t)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${e}/${t}`,this.getReadOnlyFunctionCallApiUrl=(e,t,r)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${e}/${t}/${encodeURIComponent(r)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(e,t)=>{let r=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${e}`;return t&&(r=`${r}?limit=${t.limit}&offset=${t.offset}`),r},this.getRewardsTotalUrl=e=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${e}/total`,this.getRewardHoldersUrl=(e,t)=>{let r=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${e}`;return t&&(r=`${r}?limit=${t.limit}&offset=${t.offset}`),r},this.getStackerInfoUrl=(e,t)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${e}/${t}/get-stacker-info`,this.getDataVarUrl=(e,t,r)=>`${this.coreApiUrl}/v2/data_var/${e}/${t}/${r}?proof=0`,this.getMapEntryUrl=(e,t,r)=>`${this.coreApiUrl}/v2/map_entry/${e}/${t}/${r}?proof=0`,this.coreApiUrl=e.url,this.fetchFn=e.fetchFn??function(...e){let t,r;let{fetchLib:n,middlewares:i}=(t=o,r=[],e.length>0&&"function"==typeof e[0]&&(t=e.shift()),e.length>0&&(r=e),{fetchLib:t,middlewares:r});return async(e,t)=>{let r={url:e,init:t??{}};for(let e of i)"function"==typeof e.pre&&(r=await Promise.resolve(e.pre({fetch:n,...r}))??r);let o=await n(r.url,r.init);for(let e of i)"function"==typeof e.post&&(o=await Promise.resolve(e.post({fetch:n,url:r.url,init:r.init,response:o?.clone()??o}))??o);return o}}()}getNameInfo(e){let t=`${this.bnsLookupUrl}/v1/names/${e}`;return this.fetchFn(t).then(e=>{if(404===e.status)throw Error("Name not found");if(200===e.status)return e.json();throw Error(`Bad response status: ${e.status}`)}).then(e=>e.address?Object.assign({},e,{address:e.address}):e)}}a.fromName=e=>{switch(e){case"mainnet":return new u;case"testnet":return new c;case"devnet":return new h;case"mocknet":return new l;default:throw Error(`Invalid network name provided. Must be one of the following: ${s.join(", ")}`)}},a.fromNameOrNetwork=e=>"string"!=typeof e&&"version"in e?e:a.fromName(e);class u extends a{constructor(e){super({url:e?.url??"https://api.mainnet.hiro.so",fetchFn:e?.fetchFn}),this.version=n.Kn.Mainnet,this.chainId=n.oK.Mainnet}}class c extends a{constructor(e){super({url:e?.url??"https://api.testnet.hiro.so",fetchFn:e?.fetchFn}),this.version=n.Kn.Testnet,this.chainId=n.oK.Testnet}}class l extends a{constructor(e){super({url:e?.url??"http://localhost:3999",fetchFn:e?.fetchFn}),this.version=n.Kn.Testnet,this.chainId=n.oK.Testnet}}let h=l},1634:function(e,t,r){"use strict";var n,i;r.d(t,{y:function(){return n}}),(i=n||(n={}))[i.Int=0]="Int",i[i.UInt=1]="UInt",i[i.Buffer=2]="Buffer",i[i.BoolTrue=3]="BoolTrue",i[i.BoolFalse=4]="BoolFalse",i[i.PrincipalStandard=5]="PrincipalStandard",i[i.PrincipalContract=6]="PrincipalContract",i[i.ResponseOk=7]="ResponseOk",i[i.ResponseErr=8]="ResponseErr",i[i.OptionalNone=9]="OptionalNone",i[i.OptionalSome=10]="OptionalSome",i[i.List=11]="List",i[i.Tuple=12]="Tuple",i[i.StringASCII=13]="StringASCII",i[i.StringUTF8=14]="StringUTF8"},8836:function(e,t,r){"use strict";r.d(t,{B:function(){return i}});var n=r(1634);let i=e=>{if(e.length>1e6)throw Error("Cannot construct clarity buffer that is greater than 1MB");return{type:n.y.Buffer,buffer:e}}},851:function(e,t,r){"use strict";r.d(t,{R:function(){return l},q:function(){return c}});var n=r(7721),i=r(1634);let o=BigInt("0xffffffffffffffffffffffffffffffff"),s=BigInt(0),a=BigInt("0x7fffffffffffffffffffffffffffffff"),u=BigInt("-170141183460469231731687303715884105728"),c=e=>{let t=(0,n.HN)(e,!0);if(t>a)throw RangeError(`Cannot construct clarity integer from value greater than ${a}`);if(t<u)throw RangeError(`Cannot construct clarity integer form value less than ${u}`);return{type:i.y.Int,value:t}},l=e=>{let t=(0,n.HN)(e,!1);if(t<s)throw RangeError("Cannot construct unsigned clarity integer from negative value");if(t>o)throw RangeError(`Cannot construct unsigned clarity integer greater than ${o}`);return{type:i.y.UInt,value:t}}},9969:function(e,t,r){"use strict";r.d(t,{PK:function(){return o},hr:function(){return i}});var n=r(1634);function i(){return{type:n.y.OptionalNone}}function o(e){return{type:n.y.OptionalSome,value:e}}},1932:function(e,t,r){"use strict";r.d(t,{D9:function(){return a},I0:function(){return u},L0:function(){return s}});var n=r(7721),i=r(7998),o=r(1634);function s(e){if(!e.includes("."))return function(e){let t=(0,i.p6)(e);return{type:o.y.PrincipalStandard,address:t}}(e);{let[t,r]=e.split(".");return u((0,i.p6)(t),(0,i.v9)(r))}}function a(e){return{type:o.y.PrincipalStandard,address:e}}function u(e,t){if((0,n.iY)(t.content).byteLength>=128)throw Error("Contract name must be less than 128 bytes");return{type:o.y.PrincipalContract,address:e,contractName:t}}},5822:function(e,t,r){"use strict";var n,i,o,s,a,u,c,l,h,f,d,p,y,g,w,b,m,S,E,A,v,M,x,I,C,T,N,L,$,j,U,D,P,k;r.d(t,{Am:function(){return g},Cy:function(){return B},DY:function(){return y},GY:function(){return H},Gr:function(){return h},Kn:function(){return u},L8:function(){return i},MX:function(){return o},Nv:function(){return _},Pe:function(){return R},TK:function(){return d},UE:function(){return F},YZ:function(){return w},ZA:function(){return z},dO:function(){return f},dV:function(){return G},gO:function(){return Z},gW:function(){return p},hW:function(){return c},oK:function(){return n},rC:function(){return O},sX:function(){return l},u0:function(){return a},wS:function(){return W},y:function(){return s},yl:function(){return K}}),(S=n||(n={}))[S.Testnet=2147483648]="Testnet",S[S.Mainnet=1]="Mainnet";let O=n.Mainnet,B=128,_=128,R=16,H=32,z=80,F=65,K=32,W=64,G=34;(E=i||(i={}))[E.Address=0]="Address",E[E.Principal=1]="Principal",E[E.LengthPrefixedString=2]="LengthPrefixedString",E[E.MemoString=3]="MemoString",E[E.AssetInfo=4]="AssetInfo",E[E.PostCondition=5]="PostCondition",E[E.PublicKey=6]="PublicKey",E[E.LengthPrefixedList=7]="LengthPrefixedList",E[E.Payload=8]="Payload",E[E.MessageSignature=9]="MessageSignature",E[E.StructuredDataSignature=10]="StructuredDataSignature",E[E.TransactionAuthField=11]="TransactionAuthField",(A=o||(o={}))[A.TokenTransfer=0]="TokenTransfer",A[A.SmartContract=1]="SmartContract",A[A.VersionedSmartContract=6]="VersionedSmartContract",A[A.ContractCall=2]="ContractCall",A[A.PoisonMicroblock=3]="PoisonMicroblock",A[A.Coinbase=4]="Coinbase",A[A.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",A[A.TenureChange=7]="TenureChange",A[A.NakamotoCoinbase=8]="NakamotoCoinbase",(v=s||(s={}))[v.Clarity1=1]="Clarity1",v[v.Clarity2=2]="Clarity2",(M=a||(a={}))[M.OnChainOnly=1]="OnChainOnly",M[M.OffChainOnly=2]="OffChainOnly",M[M.Any=3]="Any";let V=["onChainOnly","offChainOnly","any"],Y={[V[0]]:a.OnChainOnly,[V[1]]:a.OffChainOnly,[V[2]]:a.Any,[a.OnChainOnly]:a.OnChainOnly,[a.OffChainOnly]:a.OffChainOnly,[a.Any]:a.Any};function Z(e){if(e in Y)return Y[e];throw Error(`Invalid anchor mode "${e}", must be one of: ${V.join(", ")}`)}(x=u||(u={}))[x.Mainnet=0]="Mainnet",x[x.Testnet=128]="Testnet",u.Mainnet,(I=c||(c={}))[I.Allow=1]="Allow",I[I.Deny=2]="Deny",(C=l||(l={}))[C.STX=0]="STX",C[C.Fungible=1]="Fungible",C[C.NonFungible=2]="NonFungible",(T=h||(h={}))[T.Standard=4]="Standard",T[T.Sponsored=5]="Sponsored",(N=f||(f={}))[N.SerializeP2PKH=0]="SerializeP2PKH",N[N.SerializeP2SH=1]="SerializeP2SH",N[N.SerializeP2WPKH=2]="SerializeP2WPKH",N[N.SerializeP2WSH=3]="SerializeP2WSH",(L=d||(d={}))[L.MainnetSingleSig=22]="MainnetSingleSig",L[L.MainnetMultiSig=20]="MainnetMultiSig",L[L.TestnetSingleSig=26]="TestnetSingleSig",L[L.TestnetMultiSig=21]="TestnetMultiSig",($=p||(p={}))[$.Compressed=0]="Compressed",$[$.Uncompressed=1]="Uncompressed",(j=y||(y={}))[j.Equal=1]="Equal",j[j.Greater=2]="Greater",j[j.GreaterEqual=3]="GreaterEqual",j[j.Less=4]="Less",j[j.LessEqual=5]="LessEqual",(U=g||(g={}))[U.Sends=16]="Sends",U[U.DoesNotSend=17]="DoesNotSend",(D=w||(w={}))[D.Origin=1]="Origin",D[D.Standard=2]="Standard",D[D.Contract=3]="Contract",(P=b||(b={}))[P.STX=0]="STX",P[P.Fungible=1]="Fungible",P[P.NonFungible=2]="NonFungible",(k=m||(m={})).Serialization="Serialization",k.Deserialization="Deserialization",k.SignatureValidation="SignatureValidation",k.FeeTooLow="FeeTooLow",k.BadNonce="BadNonce",k.NotEnoughFunds="NotEnoughFunds",k.NoSuchContract="NoSuchContract",k.NoSuchPublicFunction="NoSuchPublicFunction",k.BadFunctionArgument="BadFunctionArgument",k.ContractAlreadyExists="ContractAlreadyExists",k.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",k.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",k.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",k.BadAddressVersionByte="BadAddressVersionByte",k.NoCoinbaseViaMempool="NoCoinbaseViaMempool",k.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",k.TooMuchChaining="TooMuchChaining",k.ConflictingNonceInMempool="ConflictingNonceInMempool",k.BadTransactionVersion="BadTransactionVersion",k.TransferRecipientCannotEqualSender="TransferRecipientCannotEqualSender",k.TransferAmountMustBePositive="TransferAmountMustBePositive",k.ServerFailureDatabase="ServerFailureDatabase",k.EstimatorError="EstimatorError",k.TemporarilyBlacklisted="TemporarilyBlacklisted",k.ServerFailureOther="ServerFailureOther"},7998:function(e,t,r){"use strict";r.d(t,{p6:function(){return a},v9:function(){return s}});var n=r(5822),i=r(7457),o=r(4762);function s(e,t,r){let i=r||n.Cy;if((0,o.pw)(e,i))throw Error(`String length exceeds maximum bytes ${i}`);return{type:n.L8.LengthPrefixedString,content:e,lengthPrefixBytes:t||1,maxLengthBytes:i}}function a(e){let t=(0,i.yI)(e);return{type:n.L8.Address,version:t[0],hash160:t[1]}}},4762:function(e,t,r){"use strict";r.d(t,{D2:function(){return y},G8:function(){return p},Sq:function(){return l},UI:function(){return w},Xh:function(){return f},YI:function(){return m},c1:function(){return c},pw:function(){return h},rv:function(){return g},tM:function(){return b}});var n=r(7887),i=r(5530),o=r(8967);r(1316);var s=r(7721);r(7457);var a=r(4702),u=r.n(a);let c=e=>e.length%2==0?e:`0${e}`,l=(e,t)=>e.padEnd(t,"0"),h=(e,t)=>!!e&&(0,s.iY)(e).length>t;function f(e){return u()(e)}let d=e=>(0,n.b)((0,i.J)(e)),p=e=>(0,s.ci)((0,o.pr)(e)),y=e=>(0,s.ci)(d(e)),g=e=>{let t=d(e),r=d((0,s.eV)(new Uint8Array([0]),new Uint8Array([t.length]),t));return(0,s.ci)(r)},w=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");let r=[];r.push(80+e),t.forEach(e=>{r.push(e.length),r.push(e)}),r.push(80+t.length),r.push(174);let n=d((0,s.WW)(r));return(0,s.ci)(n)},b=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");let r=[];r.push(80+e),t.forEach(e=>{r.push(e.length),r.push(e)}),r.push(80+t.length),r.push(174);let n=(0,s.WW)(r),o=(0,i.J)(n),a=[];a.push(0),a.push(o.length),a.push(o);let u=d((0,s.WW)(a));return(0,s.ci)(u)};function m(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}},5197:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function l(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*u+1>>>0,c=new Uint8Array(o);e[r];){var l=e.charCodeAt(r);if(l>255)return;var h=t[l];if(255===h)return;for(var f=0,d=o-1;(0!==h||f<i)&&-1!==d;d--,f++)h+=s*c[d]>>>0,c[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw Error("Non-zero carry");i=f,r++}for(var p=o-i;p!==o&&0===c[p];)p++;for(var y=new Uint8Array(n+(o-p)),g=n;p!==o;)y[g++]=c[p++];return y}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var u=(o-i)*c+1>>>0,l=new Uint8Array(u);i!==o;){for(var h=t[i],f=0,d=u-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=u-n;p!==u&&0===l[p];)p++;for(var y=a.repeat(r);p<u;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw Error("Non-base"+s+" character")}}}},8738:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=u(e),s=o[0],a=o[1],c=new i((s+a)*3/4-a),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(function(e,t,n){for(var i,o=[],s=t;s<n;s+=3)o.push(r[(i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8672:function(e,t,r){let n=r(5197);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},8627:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.c32ToB58=t.b58ToC32=t.c32addressDecode=t.c32address=t.versions=void 0;let n=r(6770),i=r(8842),o=r(5758);t.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};let s={};s[0]=t.versions.mainnet.p2pkh,s[5]=t.versions.mainnet.p2sh,s[111]=t.versions.testnet.p2pkh,s[196]=t.versions.testnet.p2sh;let a={};function u(e,t){if(!t.match(/^[0-9a-fA-F]{40}$/))throw Error("Invalid argument: not a hash160 hex string");let r=(0,n.c32checkEncode)(e,t);return`S${r}`}function c(e){if(e.length<=5)throw Error("Invalid c32 address: invalid length");if("S"!=e[0])throw Error('Invalid c32 address: must start with "S"');return(0,n.c32checkDecode)(e.slice(1))}a[t.versions.mainnet.p2pkh]=0,a[t.versions.mainnet.p2sh]=5,a[t.versions.testnet.p2pkh]=111,a[t.versions.testnet.p2sh]=196,t.c32address=u,t.c32addressDecode=c,t.b58ToC32=function(e,t=-1){let r;let n=i.decode(e),a=(0,o.bytesToHex)(n.data),c=parseInt((0,o.bytesToHex)(n.prefix),16);return t<0?(r=c,void 0!==s[c]&&(r=s[c])):r=t,u(r,a)},t.c32ToB58=function(e,t=-1){let r;let n=c(e),o=n[0],s=n[1];t<0?(r=o,void 0!==a[o]&&(r=a[o])):r=t;let u=r.toString(16);return 1===u.length&&(u=`0${u}`),i.encode(s,u)}},8842:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;let n=r(4212),i=r(5758),o=r(5197),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.encode=function(e,t="00"){let r="string"==typeof e?(0,i.hexToBytes)(e):e,a="string"==typeof t?(0,i.hexToBytes)(t):e;if(!(r instanceof Uint8Array)||!(a instanceof Uint8Array))throw TypeError("Argument must be of type Uint8Array or string");let u=(0,n.sha256)((0,n.sha256)(new Uint8Array([...a,...r])));return o(s).encode([...a,...r,...u.slice(0,4)])},t.decode=function(e){let t=o(s).decode(e),r=t.slice(0,1),i=t.slice(1,-4),a=(0,n.sha256)((0,n.sha256)(new Uint8Array([...r,...i])));return t.slice(-4).forEach((e,t)=>{if(e!==a[t])throw Error("Invalid checksum")}),{prefix:r,data:i}}},6770:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.c32checkDecode=t.c32checkEncode=void 0;let n=r(4212),i=r(5758),o=r(4530);function s(e){let t=(0,n.sha256)((0,n.sha256)((0,i.hexToBytes)(e)));return(0,i.bytesToHex)(t.slice(0,4))}t.c32checkEncode=function(e,t){if(e<0||e>=32)throw Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw Error("Invalid data (not a hex string)");(t=t.toLowerCase()).length%2!=0&&(t=`0${t}`);let r=e.toString(16);1===r.length&&(r=`0${r}`);let n=s(`${r}${t}`),i=(0,o.c32encode)(`${t}${n}`);return`${o.c32[e]}${i}`},t.c32checkDecode=function(e){e=(0,o.c32normalize)(e);let t=(0,o.c32decode)(e.slice(1)),r=e[0],n=o.c32.indexOf(r),i=t.slice(-8),a=n.toString(16);if(1===a.length&&(a=`0${a}`),s(`${a}${t.substring(0,t.length-8)}`)!==i)throw Error("Invalid c32check string: checksum mismatch");return[n,t.substring(0,t.length-8)]}},4530:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.c32decode=t.c32normalize=t.c32encode=t.c32=void 0;let n=r(5758);t.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";let i="0123456789abcdef";function o(e){return e.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}t.c32encode=function(e,r){if(!e.match(/^[0-9a-fA-F]*$/))throw Error("Not a hex-encoded string");e.length%2!=0&&(e=`0${e}`),e=e.toLowerCase();let o=[],s=0;for(let r=e.length-1;r>=0;r--)if(s<4){let n=i.indexOf(e[r])>>s,a=0;0!==r&&(a=i.indexOf(e[r-1]));let u=1+s,c=a%(1<<u)<<5-u,l=t.c32[n+c];s=u,o.unshift(l)}else s=0;let a=0;for(let e=0;e<o.length&&"0"===o[e];e++)a++;o=o.slice(a);let u=new TextDecoder().decode((0,n.hexToBytes)(e)).match(/^\u0000*/),c=u?u[0].length:0;for(let e=0;e<c;e++)o.unshift(t.c32[0]);if(r){let e=r-o.length;for(let r=0;r<e;r++)o.unshift(t.c32[0])}return o.join("")},t.c32normalize=o,t.c32decode=function(e,r){if(!(e=o(e)).match(`^[${t.c32}]*$`))throw Error("Not a c32-encoded string");let n=e.match(`^${t.c32[0]}*`),s=n?n[0].length:0,a=[],u=0,c=0;for(let r=e.length-1;r>=0;r--){4===c&&(a.unshift(i[u]),c=0,u=0);let n=(t.c32.indexOf(e[r])<<c)+u,o=i[n%16];if(c+=1,(u=n>>4)>1<<c)throw Error("Panic error in decoding.");a.unshift(o)}a.unshift(i[u]),a.length%2==1&&a.unshift("0");let l=0;for(let e=0;e<a.length&&"0"===a[e];e++)l++;let h=(a=a.slice(l-l%2)).join("");for(let e=0;e<s;e++)h=`00${h}`;if(r){let e=2*r-h.length;for(let t=0;t<e;t+=2)h=`00${h}`}return h}},7457:function(e,t,r){"use strict";t.yI=t.H4=void 0,r(4530),r(6770);let n=r(8627);Object.defineProperty(t,"H4",{enumerable:!0,get:function(){return n.c32address}}),Object.defineProperty(t,"yI",{enumerable:!0,get:function(){return n.c32addressDecode}})},5441:function(e,t,r){var n;n="undefined"!=typeof self?self:this,function(e){var t="undefined"!=typeof globalThis&&globalThis||void 0!==n&&n||void 0!==r.g&&r.g||{},i={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return h(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(i.blob)return this.blob().then(d);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,o=h(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=a(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[a(e)]},l.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},l.prototype.set=function(e,t){this.map[a(e)]=u(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},i.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function w(e,r){if(!(this instanceof w))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,o=(r=r||{}).body;if(e instanceof w){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,r.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=r.credentials||this.credentials||"same-origin",(r.headers||!this.headers)&&(this.headers=new l(r.headers)),this.method=(i=(n=r.method||this.method||"GET").toUpperCase(),g.indexOf(i)>-1?i:n),this.mode=r.mode||this.mode||null,this.signal=r.signal||this.signal||function(){if("AbortController"in t)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),("GET"===this.method||"HEAD"===this.method)&&("no-store"===r.cache||"no-cache"===r.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function m(e,t){if(!(this instanceof m))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var S=[301,302,303,307,308];m.redirect=function(e,t){if(-1===S.indexOf(t))throw RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function E(r,n){return new Promise(function(o,s){var c=new w(r,n);if(c.signal&&c.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function f(){h.abort()}if(h.onload=function(){var e,t,r={statusText:h.statusText,headers:(e=h.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===c.url.indexOf("file://")&&(h.status<200||h.status>599)?r.status=200:r.status=h.status,r.url="responseURL"in h?h.responseURL:r.headers.get("X-Request-URL");var n="response"in h?h.response:h.responseText;setTimeout(function(){o(new m(n,r))},0)},h.onerror=function(){setTimeout(function(){s(TypeError("Network request failed"))},0)},h.ontimeout=function(){setTimeout(function(){s(TypeError("Network request timed out"))},0)},h.onabort=function(){setTimeout(function(){s(new e.DOMException("Aborted","AbortError"))},0)},h.open(c.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?h.withCredentials=!0:"omit"===c.credentials&&(h.withCredentials=!1),"responseType"in h&&(i.blob?h.responseType="blob":i.arrayBuffer&&(h.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof l||t.Headers&&n.headers instanceof t.Headers)){var d=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){d.push(a(e)),h.setRequestHeader(e,u(n.headers[e]))}),c.headers.forEach(function(e,t){-1===d.indexOf(t)&&h.setRequestHeader(t,e)})}else c.headers.forEach(function(e,t){h.setRequestHeader(t,e)});c.signal&&(c.signal.addEventListener("abort",f),h.onreadystatechange=function(){4===h.readyState&&c.signal.removeEventListener("abort",f)}),h.send(void 0===c._bodyInit?null:c._bodyInit)})}E.polyfill=!0,t.fetch||(t.fetch=E,t.Headers=l,t.Request=w,t.Response=m),e.Headers=l,e.Request=w,e.Response=m,e.fetch=E,Object.defineProperty(e,"__esModule",{value:!0})}({})},4735:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.unescape=t.escape=t.pad=void 0;let n=r(8738);function i(e){return`${e}${"=".repeat(4-(e.length%4||4))}`}function o(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(e){return i(e).replace(/-/g,"+").replace(/_/g,"/")}t.pad=i,t.escape=o,t.unescape=s,t.encode=function(e){return o((0,n.fromByteArray)(new TextEncoder().encode(e)))},t.decode=function(e){return new TextDecoder().decode((0,n.toByteArray)(i(s(e))))}},6073:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cryptoClients=t.SECP256K1Client=void 0;let n=r(7703);Object.defineProperty(t,"SECP256K1Client",{enumerable:!0,get:function(){return n.SECP256K1Client}});let i={ES256K:n.SECP256K1Client};t.cryptoClients=i},7703:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECP256K1Client=void 0;let n=r(950),i=r(4212),o=r(9459),s=r(5569),a=r(7702),u=r(5758);o.utils.hmacSha256Sync=(e,...t)=>{let r=n.hmac.create(i.sha256,e);return t.forEach(e=>r.update(e)),r.digest()};class c{static derivePublicKey(e,t=!0){return 66===e.length&&(e=e.slice(0,64)),e.length<64&&(e=e.padStart(64,"0")),(0,u.bytesToHex)(o.getPublicKey(e,t))}static signHash(e,t,r="jose"){if(!e||!t)throw new a.MissingParametersError("a signing input hash and private key are all required");let n=o.signSync(e,t.slice(0,64),{der:!0,canonical:!1});if("der"===r)return(0,u.bytesToHex)(n);if("jose"===r)return(0,s.derToJose)(n,"ES256");throw Error("Invalid signature format")}static loadSignature(e){return(0,s.joseToDer)(e,"ES256")}static verifyHash(e,t,r){if(!e||!t||!r)throw new a.MissingParametersError("a signing input hash, der signature, and public key are all required");return o.verify(t,e,r,{strict:!1})}}t.SECP256K1Client=c,c.algorithmName="ES256K"},8803:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.hashSha256Async=t.hashSha256=void 0;let i=r(4212);function o(e){return(0,i.sha256)(e)}t.hashSha256=o,t.hashSha256Async=function(e){return n(this,void 0,void 0,function*(){try{if("undefined"!=typeof crypto&&void 0!==crypto.subtle){let t="string"==typeof e?new TextEncoder().encode(e):e,r=yield crypto.subtle.digest("SHA-256",t);return new Uint8Array(r)}{let t=r(8971);if(!t.createHash)throw Error("`crypto` module does not contain `createHash`");return Promise.resolve(t.createHash("sha256").update(e).digest())}}catch(t){return console.log(t),console.log('Crypto lib not found. Neither the global `crypto.subtle` Web Crypto API, nor the or the Node.js `require("crypto").createHash` module is available. Falling back to JS implementation.'),Promise.resolve(o(e))}})}},2516:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeToken=void 0;let n=r(4735);t.decodeToken=function(e){if("string"==typeof e){let t=e.split(".");return{header:JSON.parse(n.decode(t[0])),payload:JSON.parse(n.decode(t[1])),signature:t[2]}}if("object"==typeof e){if("string"!=typeof e.payload)throw Error("Expected token payload to be a base64 or json string");let t=e.payload;"{"!==e.payload[0]&&(t=n.decode(t));let r=[];return e.header.map(e=>{let t=JSON.parse(n.decode(e));r.push(t)}),{header:r,payload:JSON.parse(t),signature:e.signature}}}},5569:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joseToDer=t.derToJose=void 0;let n=r(8738),i=r(4735);function o(e){return(e/8|0)+(e%8==0?0:1)}let s={ES256:o(256),ES384:o(384),ES512:o(521)};function a(e){let t=s[e];if(t)return t;throw Error(`Unknown algorithm "${e}"`)}function u(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return(0,n.toByteArray)((0,i.pad)(e));throw TypeError("ECDSA signature must be a Base64 string or a Uint8Array")}function c(e,t,r){let n=0;for(;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}t.derToJose=function(e,t){let r=u(e),o=a(t),s=o+1,c=r.length,l=0;if(48!==r[l++])throw Error('Could not find expected "seq"');let h=r[l++];if(129===h&&(h=r[l++]),c-l<h)throw Error(`"seq" specified length of "${h}", only "${c-l}" remaining`);if(2!==r[l++])throw Error('Could not find expected "int" for "r"');let f=r[l++];if(c-l-2<f)throw Error(`"r" specified length of "${f}", only "${c-l-2}" available`);if(s<f)throw Error(`"r" specified length of "${f}", max of "${s}" is acceptable`);let d=l;if(l+=f,2!==r[l++])throw Error('Could not find expected "int" for "s"');let p=r[l++];if(c-l!==p)throw Error(`"s" specified length of "${p}", expected "${c-l}"`);if(s<p)throw Error(`"s" specified length of "${p}", max of "${s}" is acceptable`);let y=l;if((l+=p)!==c)throw Error(`Expected to consume entire array, but "${c-l}" bytes remain`);let g=o-f,w=o-p,b=new Uint8Array(g+f+w+p);for(l=0;l<g;++l)b[l]=0;b.set(r.subarray(d+Math.max(-g,0),d+f),l),l=o;for(let e=l;l<e+w;++l)b[l]=0;return b.set(r.subarray(y+Math.max(-w,0),y+p),l),(0,i.escape)((0,n.fromByteArray)(b))},t.joseToDer=function(e,t){e=u(e);let r=a(t),n=e.length;if(n!==2*r)throw TypeError(`"${t}" signatures must be "${2*r}" bytes, saw "${n}"`);let i=c(e,0,r),o=c(e,r,e.length),s=r-i,l=r-o,h=2+s+1+1+l,f=h<128,d=new Uint8Array((f?2:3)+h),p=0;return d[p++]=48,f?d[p++]=h:(d[p++]=129,d[p++]=255&h),d[p++]=2,d[p++]=s,i<0?(d[p++]=0,d.set(e.subarray(0,r),p),p+=r):(d.set(e.subarray(i,r),p),p+=r-i),d[p++]=2,d[p++]=l,o<0?(d[p++]=0,d.set(e.subarray(r),p)):d.set(e.subarray(r+o),p),d}},7702:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidTokenError=t.MissingParametersError=void 0;class r extends Error{constructor(e){super(),this.name="MissingParametersError",this.message=e||""}}t.MissingParametersError=r;class n extends Error{constructor(e){super(),this.name="InvalidTokenError",this.message=e||""}}t.InvalidTokenError=n},3877:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7471),t),i(r(3279),t),i(r(2516),t),i(r(7702),t),i(r(6073),t)},7471:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenSigner=t.createUnsecuredToken=void 0;let i=r(4735),o=r(6073),s=r(7702),a=r(8803);function u(e,t){let r=[];return r.push(i.encode(JSON.stringify(t))),r.push(i.encode(JSON.stringify(e))),r.join(".")}t.createUnsecuredToken=function(e){return u(e,{typ:"JWT",alg:"none"})+"."};class c{constructor(e,t){if(!(e&&t))throw new s.MissingParametersError("a signing algorithm and private key are required");if("string"!=typeof e)throw Error("signing algorithm parameter must be a string");if(e=e.toUpperCase(),!o.cryptoClients.hasOwnProperty(e))throw Error("invalid signing algorithm");this.tokenType="JWT",this.cryptoClient=o.cryptoClients[e],this.rawPrivateKey=t}header(e={}){return Object.assign({},{typ:this.tokenType,alg:this.cryptoClient.algorithmName},e)}sign(e,t=!1,r={}){let n=this.header(r),i=u(e,n),o=(0,a.hashSha256)(i);return this.createWithSignedHash(e,t,n,i,o)}signAsync(e,t=!1,r={}){return n(this,void 0,void 0,function*(){let n=this.header(r),i=u(e,n),o=yield(0,a.hashSha256Async)(i);return this.createWithSignedHash(e,t,n,i,o)})}createWithSignedHash(e,t,r,n,o){let s=this.cryptoClient.signHash(o,this.rawPrivateKey);return t?{header:[i.encode(JSON.stringify(r))],payload:JSON.stringify(e),signature:[s]}:[n,s].join(".")}}t.TokenSigner=c},3279:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenVerifier=void 0;let n=r(4735),i=r(6073),o=r(7702),s=r(8803);class a{constructor(e,t){if(!(e&&t))throw new o.MissingParametersError("a signing algorithm and public key are required");if("string"!=typeof e)throw"signing algorithm parameter must be a string";if(e=e.toUpperCase(),!i.cryptoClients.hasOwnProperty(e))throw"invalid signing algorithm";this.tokenType="JWT",this.cryptoClient=i.cryptoClients[e],this.rawPublicKey=t}verify(e){return"string"==typeof e?this.verifyCompact(e,!1):"object"==typeof e&&this.verifyExpanded(e,!1)}verifyAsync(e){return"string"==typeof e?this.verifyCompact(e,!0):"object"==typeof e?this.verifyExpanded(e,!0):Promise.resolve(!1)}verifyCompact(e,t){let r=e.split("."),n=r[0]+"."+r[1],i=e=>{let t=this.cryptoClient.loadSignature(r[2]);return this.cryptoClient.verifyHash(e,t,this.rawPublicKey)};return t?(0,s.hashSha256Async)(n).then(e=>i(e)):i((0,s.hashSha256)(n))}verifyExpanded(e,t){let r=[e.header.join("."),n.encode(e.payload)].join("."),i=!0,o=t=>(e.signature.map(e=>{let r=this.cryptoClient.loadSignature(e);this.cryptoClient.verifyHash(t,r,this.rawPublicKey)||(i=!1)}),i);return t?(0,s.hashSha256Async)(r).then(e=>o(e)):o((0,s.hashSha256)(r))}}t.TokenVerifier=a},4702:function(e,t,r){e=r.nmd(e);var n,i="__lodash_hash_undefined__",o="[object Arguments]",s="[object Boolean]",a="[object Date]",u="[object Function]",c="[object GeneratorFunction]",l="[object Map]",h="[object Number]",f="[object Object]",d="[object Promise]",p="[object RegExp]",y="[object Set]",g="[object String]",w="[object Symbol]",b="[object WeakMap]",m="[object ArrayBuffer]",S="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",v="[object Int8Array]",M="[object Int16Array]",x="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",T="[object Uint16Array]",N="[object Uint32Array]",L=/\w*$/,$=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,U={};U[o]=U["[object Array]"]=U[m]=U[S]=U[s]=U[a]=U[E]=U[A]=U[v]=U[M]=U[x]=U[l]=U[h]=U[f]=U[p]=U[y]=U[g]=U[w]=U[I]=U[C]=U[T]=U[N]=!0,U["[object Error]"]=U[u]=U[b]=!1;var D="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,P="object"==typeof self&&self&&self.Object===Object&&self,k=D||P||Function("return this")(),O=t&&!t.nodeType&&t,B=O&&e&&!e.nodeType&&e,_=B&&B.exports===O;function R(e,t){return e.set(t[0],t[1]),e}function H(e,t){return e.add(t),e}function z(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function F(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function K(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function W(e,t){return function(r){return e(t(r))}}function G(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var V=Array.prototype,Y=Function.prototype,Z=Object.prototype,q=k["__core-js_shared__"],X=(n=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Q=Y.toString,J=Z.hasOwnProperty,ee=Z.toString,et=RegExp("^"+Q.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),er=_?k.Buffer:void 0,en=k.Symbol,ei=k.Uint8Array,eo=W(Object.getPrototypeOf,Object),es=Object.create,ea=Z.propertyIsEnumerable,eu=V.splice,ec=Object.getOwnPropertySymbols,el=er?er.isBuffer:void 0,eh=W(Object.keys,Object),ef=eD(k,"DataView"),ed=eD(k,"Map"),ep=eD(k,"Promise"),ey=eD(k,"Set"),eg=eD(k,"WeakMap"),ew=eD(Object,"create"),eb=eB(ef),em=eB(ed),eS=eB(ep),eE=eB(ey),eA=eB(eg),ev=en?en.prototype:void 0,eM=ev?ev.valueOf:void 0;function ex(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function eI(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function eC(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function eT(e){this.__data__=new eI(e)}function eN(e,t,r){var n=e[t];J.call(e,t)&&e_(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function eL(e,t){for(var r=e.length;r--;)if(e_(e[r][0],t))return r;return -1}function e$(e){var t=new e.constructor(e.byteLength);return new ei(t).set(new ei(e)),t}function ej(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=n?n(r[s],e[s],s,r,e):void 0;eN(r,s,void 0===a?e[s]:a)}return r}function eU(e,t){var r,n=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function eD(e,t){var r=null==e?void 0:e[t];return!(!eK(r)||X&&X in r)&&(eF(r)||F(r)?et:$).test(eB(r))?r:void 0}ex.prototype.clear=function(){this.__data__=ew?ew(null):{}},ex.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ex.prototype.get=function(e){var t=this.__data__;if(ew){var r=t[e];return r===i?void 0:r}return J.call(t,e)?t[e]:void 0},ex.prototype.has=function(e){var t=this.__data__;return ew?void 0!==t[e]:J.call(t,e)},ex.prototype.set=function(e,t){return this.__data__[e]=ew&&void 0===t?i:t,this},eI.prototype.clear=function(){this.__data__=[]},eI.prototype.delete=function(e){var t=this.__data__,r=eL(t,e);return!(r<0)&&(r==t.length-1?t.pop():eu.call(t,r,1),!0)},eI.prototype.get=function(e){var t=this.__data__,r=eL(t,e);return r<0?void 0:t[r][1]},eI.prototype.has=function(e){return eL(this.__data__,e)>-1},eI.prototype.set=function(e,t){var r=this.__data__,n=eL(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},eC.prototype.clear=function(){this.__data__={hash:new ex,map:new(ed||eI),string:new ex}},eC.prototype.delete=function(e){return eU(this,e).delete(e)},eC.prototype.get=function(e){return eU(this,e).get(e)},eC.prototype.has=function(e){return eU(this,e).has(e)},eC.prototype.set=function(e,t){return eU(this,e).set(e,t),this},eT.prototype.clear=function(){this.__data__=new eI},eT.prototype.delete=function(e){return this.__data__.delete(e)},eT.prototype.get=function(e){return this.__data__.get(e)},eT.prototype.has=function(e){return this.__data__.has(e)},eT.prototype.set=function(e,t){var r=this.__data__;if(r instanceof eI){var n=r.__data__;if(!ed||n.length<199)return n.push([e,t]),this;r=this.__data__=new eC(n)}return r.set(e,t),this};var eP=ec?W(ec,Object):function(){return[]},ek=function(e){return ee.call(e)};function eO(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Z)}function eB(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function e_(e,t){return e===t||e!=e&&t!=t}(ef&&ek(new ef(new ArrayBuffer(1)))!=S||ed&&ek(new ed)!=l||ep&&ek(ep.resolve())!=d||ey&&ek(new ey)!=y||eg&&ek(new eg)!=b)&&(ek=function(e){var t=ee.call(e),r=t==f?e.constructor:void 0,n=r?eB(r):void 0;if(n)switch(n){case eb:return S;case em:return l;case eS:return d;case eE:return y;case eA:return b}return t});var eR=Array.isArray;function eH(e){var t;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!eF(e)}var ez=el||function(){return!1};function eF(e){var t=eK(e)?ee.call(e):"";return t==u||t==c}function eK(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function eW(e){return eH(e)?function(e,t){var r,n=eR(e)||e&&"object"==typeof e&&eH(e)&&J.call(e,"callee")&&(!ea.call(e,"callee")||ee.call(e)==o)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=n.length,s=!!i;for(var a in e)J.call(e,a)&&!(s&&("length"==a||(r=null==(r=i)?9007199254740991:r)&&("number"==typeof a||j.test(a))&&a>-1&&a%1==0&&a<r))&&n.push(a);return n}(e):function(e){if(!eO(e))return eh(e);var t=[];for(var r in Object(e))J.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return function e(t,r,n,i,d,b,$){if(i&&(j=b?i(t,d,b,$):i(t)),void 0!==j)return j;if(!eK(t))return t;var j,D=eR(t);if(D){if(P=t.length,k=t.constructor(P),P&&"string"==typeof t[0]&&J.call(t,"index")&&(k.index=t.index,k.input=t.input),j=k,!r)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(t,j)}else{var P,k,O,B,_,W,V=ek(t),Y=V==u||V==c;if(ez(t))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(t,r);if(V==f||V==o||Y&&!b){if(F(t))return b?t:{};if(j="function"!=typeof(O=Y?{}:t).constructor||eO(O)?{}:eK(B=eo(O))?es(B):{},!r)return _=(W=j)&&ej(t,eW(t),W),ej(t,eP(t),_)}else{if(!U[V])return b?t:{};j=function(e,t,r,n){var i,o,u,c=e.constructor;switch(t){case m:return e$(e);case s:case a:return new c(+e);case S:return i=n?e$(e.buffer):e.buffer,new e.constructor(i,e.byteOffset,e.byteLength);case E:case A:case v:case M:case x:case I:case C:case T:case N:return o=n?e$(e.buffer):e.buffer,new e.constructor(o,e.byteOffset,e.length);case l:return z(n?r(K(e),!0):K(e),R,new e.constructor);case h:case g:return new c(e);case p:return(u=new e.constructor(e.source,L.exec(e))).lastIndex=e.lastIndex,u;case y:return z(n?r(G(e),!0):G(e),H,new e.constructor);case w:return eM?Object(eM.call(e)):{}}}(t,V,e,r)}}$||($=new eT);var Z=$.get(t);if(Z)return Z;if($.set(t,j),!D){var q,X,Q=n?(X=eW(q=t),eR(q)?X:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(X,eP(q))):eW(t)}return!function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(Q||t,function(o,s){Q&&(o=t[s=o]),eN(j,s,e(o,r,n,i,s,t,$))}),j}(e,!0,!0)}},8030:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(2265);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:c="",children:l,iconNode:h,...f}=e;return(0,n.createElement)("svg",{ref:t,...s,width:i,height:i,stroke:r,strokeWidth:u?24*Number(a)/Number(i):a,className:o("lucide",c),...f},[...h.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(l)?l:[l]])}),u=(e,t)=>{let r=(0,n.forwardRef)((r,s)=>{let{className:u,...c}=r;return(0,n.createElement)(a,{ref:s,iconNode:t,className:o("lucide-".concat(i(e)),u),...c})});return r.displayName="".concat(e),r}},5737:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8030).Z)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},5376:function(e,t,r){"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}t.ZP={number:n,bool:function(e){if("boolean"!=typeof e)throw Error(`Expected boolean, not ${e}`)},bytes:i,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},output:function(e,t){i(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}}},7529:function(e,t,r){"use strict";r.d(t,{N:function(){return o}});var n=r(5376),i=r(6711);class o extends i.kb{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.GL)(this.buffer)}update(e){n.ZP.exists(this);let{view:t,buffer:r,blockLen:o}=this,s=(e=(0,i.O0)(e)).length;for(let n=0;n<s;){let a=Math.min(o-this.pos,s-n);if(a===o){let t=(0,i.GL)(e);for(;o<=s-n;n+=o)this.process(t,n);continue}r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){n.ZP.exists(this),n.ZP.output(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:o,isLE:s}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+c,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);let u=(0,i.GL)(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,h=this.get();if(l>h.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)u.setUint32(4*e,h[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}},3557:function(e,t,r){"use strict";r.d(t,{b:function(){return s}});var n=r(5376),i=r(6711);class o extends i.kb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,n.ZP.hash(e);let r=(0,i.O0)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return n.ZP.exists(this),this.iHash.update(e),this}digestInto(e){n.ZP.exists(this),n.ZP.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let s=(e,t,r)=>new o(e,t).update(r).digest();s.create=(e,t)=>new o(e,t)},7887:function(e,t,r){"use strict";r.d(t,{b:function(){return m}});var n=r(7529),i=r(6711);let o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),s=Uint8Array.from({length:16},(e,t)=>t),a=s.map(e=>(9*e+5)%16),u=[s],c=[a];for(let e=0;e<4;e++)for(let t of[u,c])t.push(t[e].map(e=>o[e]));let l=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),h=u.map((e,t)=>e.map(e=>l[t][e])),f=c.map((e,t)=>e.map(e=>l[t][e])),d=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),p=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),y=(e,t)=>e<<t|e>>>32-t;function g(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}let w=new Uint32Array(16);class b extends n.N{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)w[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,o=i,s=0|this.h2,a=s,l=0|this.h3,b=l,m=0|this.h4,S=m;for(let e=0;e<5;e++){let t=4-e,E=d[e],A=p[e],v=u[e],M=c[e],x=h[e],I=f[e];for(let t=0;t<16;t++){let n=y(r+g(e,i,s,l)+w[v[t]]+E,x[t])+m|0;r=m,m=l,l=0|y(s,10),s=i,i=n}for(let e=0;e<16;e++){let r=y(n+g(t,o,a,b)+w[M[e]]+A,I[e])+S|0;n=S,S=b,b=0|y(a,10),a=o,o=r}}this.set(this.h1+s+b|0,this.h2+l+S|0,this.h3+m+n|0,this.h4+r+o|0,this.h0+i+a|0)}roundClean(){w.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}let m=(0,i.hE)(()=>new b)},5530:function(e,t,r){"use strict";r.d(t,{J:function(){return f}});var n=r(7529),i=r(6711);let o=(e,t,r)=>e&t^~e&r,s=(e,t,r)=>e&t^e&r^t&r,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),u=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class l extends n.N{constructor(){super(64,32,8,!1),this.A=0|u[0],this.B=0|u[1],this.C=0|u[2],this.D=0|u[3],this.E=0|u[4],this.F=0|u[5],this.G=0|u[6],this.H=0|u[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=c[e-15],r=c[e-2],n=(0,i.np)(t,7)^(0,i.np)(t,18)^t>>>3,o=(0,i.np)(r,17)^(0,i.np)(r,19)^r>>>10;c[e]=o+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:u,D:l,E:h,F:f,G:d,H:p}=this;for(let e=0;e<64;e++){let t=p+((0,i.np)(h,6)^(0,i.np)(h,11)^(0,i.np)(h,25))+o(h,f,d)+a[e]+c[e]|0,y=((0,i.np)(r,2)^(0,i.np)(r,13)^(0,i.np)(r,22))+s(r,n,u)|0;p=d,d=f,f=h,h=l+t|0,l=u,u=n,n=r,r=t+y|0}r=r+this.A|0,n=n+this.B|0,u=u+this.C|0,l=l+this.D|0,h=h+this.E|0,f=f+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,n,u,l,h,f,d,p)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class h extends l{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}let f=(0,i.hE)(()=>new l);(0,i.hE)(()=>new h)},8967:function(e,t,r){"use strict";r.d(t,{o:function(){return g},pr:function(){return w}});var n=r(7529);let i=BigInt(4294967296-1),o=BigInt(32);var s={split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){let{h:a,l:u}=function(e,t=!1){return t?{h:Number(e&i),l:Number(e>>o&i)}:{h:0|Number(e>>o&i),l:0|Number(e&i)}}(e[s],t);[r[s],n[s]]=[a,u]}return[r,n]},shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},a=r(6711);let[u,c]=s.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),l=new Uint32Array(80),h=new Uint32Array(80);class f extends n.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:c,Fh:l,Fl:h,Gh:f,Gl:d,Hh:p,Hl:y}=this;return[e,t,r,n,i,o,s,a,u,c,l,h,f,d,p,y]}set(e,t,r,n,i,o,s,a,u,c,l,h,f,d,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)l[r]=e.getUint32(t),h[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|l[e-15],r=0|h[e-15],n=s.rotrSH(t,r,1)^s.rotrSH(t,r,8)^s.shrSH(t,r,7),i=s.rotrSL(t,r,1)^s.rotrSL(t,r,8)^s.shrSL(t,r,7),o=0|l[e-2],a=0|h[e-2],u=s.rotrSH(o,a,19)^s.rotrBH(o,a,61)^s.shrSH(o,a,6),c=s.rotrSL(o,a,19)^s.rotrBL(o,a,61)^s.shrSL(o,a,6),f=s.add4L(i,c,h[e-7],h[e-16]),d=s.add4H(f,n,u,l[e-7],l[e-16]);l[e]=0|d,h[e]=0|f}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:a,Cl:f,Dh:d,Dl:p,Eh:y,El:g,Fh:w,Fl:b,Gh:m,Gl:S,Hh:E,Hl:A}=this;for(let e=0;e<80;e++){let t=s.rotrSH(y,g,14)^s.rotrSH(y,g,18)^s.rotrBH(y,g,41),v=s.rotrSL(y,g,14)^s.rotrSL(y,g,18)^s.rotrBL(y,g,41),M=y&w^~y&m,x=g&b^~g&S,I=s.add5L(A,v,x,c[e],h[e]),C=s.add5H(I,E,t,M,u[e],l[e]),T=0|I,N=s.rotrSH(r,n,28)^s.rotrBH(r,n,34)^s.rotrBH(r,n,39),L=s.rotrSL(r,n,28)^s.rotrBL(r,n,34)^s.rotrBL(r,n,39),$=r&i^r&a^i&a,j=n&o^n&f^o&f;E=0|m,A=0|S,m=0|w,S=0|b,w=0|y,b=0|g,({h:y,l:g}=s.add(0|d,0|p,0|C,0|T)),d=0|a,p=0|f,a=0|i,f=0|o,i=0|r,o=0|n;let U=s.add3L(T,L,j);r=s.add3H(U,C,N,$),n=0|U}({h:r,l:n}=s.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=s.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:a,l:f}=s.add(0|this.Ch,0|this.Cl,0|a,0|f)),({h:d,l:p}=s.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:y,l:g}=s.add(0|this.Eh,0|this.El,0|y,0|g)),({h:w,l:b}=s.add(0|this.Fh,0|this.Fl,0|w,0|b)),({h:m,l:S}=s.add(0|this.Gh,0|this.Gl,0|m,0|S)),({h:E,l:A}=s.add(0|this.Hh,0|this.Hl,0|E,0|A)),this.set(r,n,i,o,a,f,d,p,y,g,w,b,m,S,E,A)}roundClean(){l.fill(0),h.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class d extends f{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class p extends f{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class y extends f{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}let g=(0,a.hE)(()=>new f);(0,a.hE)(()=>new d);let w=(0,a.hE)(()=>new p);(0,a.hE)(()=>new y)},6711:function(e,t,r){"use strict";r.d(t,{kb:function(){return s},GL:function(){return n},np:function(){return i},O0:function(){return o},hE:function(){return a}}),"object"==typeof self&&"crypto"in self&&self.crypto;let n=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),i=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");function o(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}(e)),!(e instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));class s{clone(){return this._cloneInto()}}function a(e){let t=t=>e().update(o(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}},1316:function(e,t,r){"use strict";let n,i;r.d(t,{$3:function(){return G},E9:function(){return A},P6:function(){return J},Pc:function(){return x},ZV:function(){return Y},kS:function(){return q}});var o,s=r(5856);let a=BigInt(0),u=BigInt(1),c=BigInt(2),l=BigInt(3),h=BigInt(8),f=Object.freeze({a:a,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),d=(e,t)=>(e+t/c)/t,p={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){let{n:t}=f,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=BigInt("0x100000000000000000000000000000000"),s=d(r*e,t),a=d(-n*e,t),c=B(e-s*r-a*i,t),l=B(-s*n-a*r,t),h=c>o,p=l>o;if(h&&(c=t-c),p&&(l=t-l),c>o||l>o)throw Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:h,k1:c,k2neg:p,k2:l}}};function y(e){let{a:t,b:r}=f,n=B(e*e),i=B(n*e);return B(i+t*e+r)}let g=f.a===a;class w extends Error{constructor(e){super(e)}}function b(e){if(!(e instanceof m))throw TypeError("JacobianPoint expected")}class m{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof A))throw TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(A.ZERO)?m.ZERO:new m(e.x,e.y,u)}static toAffineBatch(e){let t=function(e,t=f.P){let r=Array(e.length),n=R(e.reduce((e,n,i)=>n===a?e:(r[i]=e,B(e*n,t)),u),t);return e.reduceRight((e,n,i)=>n===a?e:(r[i]=B(e*r[i],t),B(e*n,t)),n),r}(e.map(e=>e.z));return e.map((e,r)=>e.toAffine(t[r]))}static normalizeZ(e){return m.toAffineBatch(e).map(m.fromAffine)}equals(e){b(e);let{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e,a=B(n*n),u=B(s*s),c=B(t*u),l=B(i*a),h=B(B(r*s)*u),f=B(B(o*n)*a);return c===l&&h===f}negate(){return new m(this.x,B(-this.y),this.z)}double(){let{x:e,y:t,z:r}=this,n=B(e*e),i=B(t*t),o=B(i*i),s=e+i,a=B(c*(B(s*s)-n-o)),u=B(l*n),f=B(u*u),d=B(f-c*a),p=B(u*(a-d)-h*o);return new m(d,p,B(c*t*r))}add(e){b(e);let{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e;if(i===a||o===a)return this;if(t===a||r===a)return e;let u=B(n*n),l=B(s*s),h=B(t*l),f=B(i*u),d=B(B(r*s)*l),p=B(B(o*n)*u),y=B(f-h),g=B(p-d);if(y===a)return g===a?this.double():m.ZERO;let w=B(y*y),S=B(y*w),E=B(h*w),A=B(g*g-S-c*E),v=B(g*(E-A)-d*S);return new m(A,v,B(n*s*y))}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let t=m.ZERO;if("bigint"==typeof e&&e===a)return t;let r=O(e);if(r===u)return this;if(!g){let e=t,n=this;for(;r>a;)r&u&&(e=e.add(n)),n=n.double(),r>>=u;return e}let{k1neg:n,k1:i,k2neg:o,k2:s}=p.splitScalar(r),c=t,l=t,h=this;for(;i>a||s>a;)i&u&&(c=c.add(h)),s&u&&(l=l.add(h)),h=h.double(),i>>=u,s>>=u;return n&&(c=c.negate()),o&&(l=l.negate()),l=new m(B(l.x*p.beta),l.y,l.z),c.add(l)}precomputeWindow(e){let t=g?128/e+1:256/e+1,r=[],n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(m.BASE)&&(t=A.BASE);let r=t&&t._WINDOW_SIZE||1;if(256%r)throw Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&E.get(t);!n&&(n=this.precomputeWindow(r),t&&1!==r&&(n=m.normalizeZ(n),E.set(t,n)));let i=m.ZERO,o=m.BASE,s=1+(g?128/r:256/r),a=2**(r-1),c=BigInt(2**r-1),l=2**r,h=BigInt(r);for(let t=0;t<s;t++){let r=t*a,s=Number(e&c);e>>=h,s>a&&(s-=l,e+=u);let f=r+Math.abs(s)-1,d=t%2!=0,p=s<0;0===s?o=o.add(S(d,n[r])):i=i.add(S(p,n[f]))}return{p:i,f:o}}multiply(e,t){let r,n,i=O(e);if(g){let{k1neg:e,k1:o,k2neg:s,k2:a}=p.splitScalar(i),{p:u,f:c}=this.wNAF(o,t),{p:l,f:h}=this.wNAF(a,t);u=S(e,u),l=new m(B((l=S(s,l)).x*p.beta),l.y,l.z),r=u.add(l),n=c.add(h)}else{let{p:e,f:o}=this.wNAF(i,t);r=e,n=o}return m.normalizeZ([r,n])[0]}toAffine(e){let{x:t,y:r,z:n}=this,i=this.equals(m.ZERO);null==e&&(e=i?h:R(n));let o=e,s=B(o*o),a=B(s*o),c=B(t*s),l=B(r*a),f=B(n*o);if(i)return A.ZERO;if(f!==u)throw Error("invZ was invalid");return new A(c,l)}}function S(e,t){let r=t.negate();return e?r:t}m.BASE=new m(f.Gx,f.Gy,u),m.ZERO=new m(a,u,a);let E=new WeakMap;class A{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,E.delete(this)}hasEvenY(){return this.y%c===a}static fromCompressedHex(e){let t=32===e.length,r=P(t?e:e.subarray(1));if(!K(r))throw Error("Point is not on curve");let n=function(e){let{P:t}=f,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),u=e*e*e%t,h=u*u*e%t,d=_(h,l)*h%t,p=_(d,l)*h%t,y=_(p,c)*u%t,g=_(y,n)*y%t,w=_(g,i)*g%t,b=_(w,s)*w%t,m=_(b,a)*b%t,S=_(m,s)*w%t,E=_(S,l)*h%t,A=_(E,o)*g%t,v=_(A,r)*u%t,M=_(v,c);if(M*M%t!==e)throw Error("Cannot find square root");return M}(y(r)),i=(n&u)===u;t?i&&(n=B(-n)):(1&e[0])==1!==i&&(n=B(-n));let o=new A(r,n);return o.assertValidity(),o}static fromUncompressedHex(e){let t=new A(P(e.subarray(1,33)),P(e.subarray(33,65)));return t.assertValidity(),t}static fromHex(e){let t=k(e),r=t.length,n=t[0];if(32===r||33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return A.BASE.multiply(W(e))}static fromSignature(e,t,r){let{r:n,s:i}=function(e){if(e instanceof x)return e.assertValidity(),e;try{return x.fromDER(e)}catch(t){return x.fromCompact(e)}}(t);if(![0,1,2,3].includes(r))throw Error("Cannot recover: invalid recovery bit");let o=H(k(e)),{n:s}=f,a=2===r||3===r?n+s:n,u=R(a,s),c=B(-o*u,s),l=B(i*u,s),h=1&r?"03":"02",d=A.fromHex(h+L(a)),p=A.BASE.multiplyAndAddUnsafe(d,c,l);if(!p)throw Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(e=!1){return D(this.toHex(e))}toHex(e=!1){let t=L(this.x);if(!e)return`04${t}${L(this.y)}`;{let e=this.hasEvenY()?"02":"03";return`${e}${t}`}}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:t,y:r}=this;if(!K(t)||!K(r))throw Error(e);let n=B(r*r);if(B(n-y(t))!==a)throw Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new A(this.x,B(-this.y))}double(){return m.fromAffine(this).double().toAffine()}add(e){return m.fromAffine(this).add(m.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return m.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){let n=m.fromAffine(this),i=t===a||t===u||this!==A.BASE?n.multiplyUnsafe(t):n.multiply(t),o=m.fromAffine(e).multiplyUnsafe(r),s=i.add(o);return s.equals(m.ZERO)?void 0:s.toAffine()}}function v(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function M(e){if(e.length<2||2!==e[0])throw Error(`Invalid signature integer tag: ${T(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw Error("Invalid signature integer: trailing length");return{data:P(r),left:e.subarray(t+2)}}A.BASE=new A(f.Gx,f.Gy),A.ZERO=new A(a,a);class x{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){let t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw TypeError(`${r}: Expected string or Uint8Array`);let n=t?T(e):e;if(128!==n.length)throw Error(`${r}: Expected 64-byte hex`);return new x(U(n.slice(0,64)),U(n.slice(64,128)))}static fromDER(e){let t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw TypeError("Signature.fromDER: Expected string or Uint8Array");let{r,s:n}=function(e){if(e.length<2||48!=e[0])throw Error(`Invalid signature tag: ${T(e)}`);if(e[1]!==e.length-2)throw Error("Invalid signature: incorrect length");let{data:t,left:r}=M(e.subarray(2)),{data:n,left:i}=M(r);if(i.length)throw Error(`Invalid signature: left bytes after parsing: ${T(i)}`);return{r:t,s:n}}(t?e:D(e));return new x(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:t}=this;if(!F(e))throw Error("Invalid Signature: r must be 0 < r < n");if(!F(t))throw Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=f.n>>u;return this.s>e}normalizeS(){return this.hasHighS()?new x(this.r,B(-this.s,f.n)):this}toDERRawBytes(){return D(this.toDERHex())}toDERHex(){let e=v(j(this.s)),t=v(j(this.r)),r=e.length/2,n=t.length/2,i=j(r),o=j(n),s=j(n+r+4);return`30${s}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return D(this.toCompactHex())}toCompactHex(){return L(this.r)+L(this.s)}}function I(...e){if(!e.every(e=>e instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===e.length)return e[0];let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0));for(let r=0,n=0;r<e.length;r++){let i=e[r];t.set(i,n),n+=i.length}return t}let C=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function T(e){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=C[e[r]];return t}let N=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function L(e){if("bigint"!=typeof e)throw Error("Expected bigint");if(!(a<=e&&e<N))throw Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function $(e){let t=D(L(e));if(32!==t.length)throw Error("Error: expected 32 bytes");return t}function j(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function U(e){if("string"!=typeof e)throw TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function D(e){if("string"!=typeof e)throw TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=2*r,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");t[r]=i}return t}function P(e){return U(T(e))}function k(e){return e instanceof Uint8Array?Uint8Array.from(e):D(e)}function O(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&F(e))return e;throw TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function B(e,t=f.P){let r=e%t;return r>=a?r:t+r}function _(e,t){let{P:r}=f,n=e;for(;t-- >a;)n*=n,n%=r;return n}function R(e,t=f.P){if(e===a||t<=a)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=B(e,t),n=t,i=a,o=u,s=u,c=a;for(;r!==a;){let e=n/r,t=n%r,a=i-s*e,u=o-c*e;n=r,r=t,i=s,o=c,s=a,c=u}if(n!==u)throw Error("invert: does not exist");return B(i,t)}function H(e,t=!1){let r=function(e){let t=8*e.length-256,r=P(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;let{n}=f;return r>=n?r-n:r}class z{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return J.hmacSha256(this.k,...e)}hmacSync(...e){return i(this.k,...e)}checkSync(){if("function"!=typeof i)throw new w("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let r=this.v.slice();t.push(r),e+=this.v.length}return I(...t)}generateSync(){this.checkSync(),this.incr();let e=0,t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let r=this.v.slice();t.push(r),e+=this.v.length}return I(...t)}}function F(e){return a<e&&e<f.n}function K(e){return a<e&&e<f.P}function W(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw Error("Expected 32 bytes of private key");t=U(e)}else if(e instanceof Uint8Array){if(32!==e.length)throw Error("Expected 32 bytes of private key");t=P(e)}else throw TypeError("Expected valid private key");if(!F(t))throw Error("Expected private key: 0 < key < n");return t}function G(e,t=!1){return A.fromPrivateKey(e).toRawBytes(t)}function V(e){let t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?33===n||65===n:r?66===n||130===n:e instanceof A}function Y(e,t,r=!1){if(V(e))throw TypeError("getSharedSecret: first arg must be private key");if(!V(t))throw TypeError("getSharedSecret: second arg must be public key");let n=t instanceof A?(t.assertValidity(),t):A.fromHex(t);return n.assertValidity(),n.multiply(W(e)).toRawBytes(r)}function Z(e){return P(e.length>32?e.slice(0,32):e)}function q(e,t,r={}){let n;let{seed:i,m:o,d:s}=function(e,t,r){if(null==e)throw Error(`sign: expected valid message hash, not "${e}"`);let n=k(e),i=W(t),o=[$(i),function(e){let t=Z(e),r=B(t,f.n);return $(r<a?t:r)}(n)];if(null!=r){!0===r&&(r=J.randomBytes(32));let e=k(r);if(32!==e.length)throw Error("sign: Expected 32 bytes of extra data");o.push(e)}return{seed:I(...o),m:Z(n),d:i}}(e,t,r.extraEntropy),c=new z(32,32);for(c.reseedSync(i);!(n=function(e,t,r,n=!0){let{n:i}=f,o=H(e,!0);if(!F(o))return;let s=R(o,i),c=A.BASE.multiply(o),l=B(c.x,i);if(l===a)return;let h=B(s*B(t+r*l,i),i);if(h===a)return;let d=new x(l,h),p=(c.x===d.r?0:2)|Number(c.y&u);return n&&d.hasHighS()&&(d=d.normalizeS(),p^=1),{sig:d,recovery:p}}(c.generateSync(),o,s,r.canonical));)c.reseedSync();return function(e,t){let{sig:r,recovery:n}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}(n,r)}A.BASE._setWindowSize(8);let X={node:o||(o=r.t(s,2)),web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},Q={},J={bytesToHex:T,hexToBytes:D,concatBytes:I,mod:B,invert:R,isValidPrivateKey(e){try{return W(e),!0}catch(e){return!1}},_bigintTo32Bytes:$,_normalizePrivateKey:W,hashToPrivateKey:e=>{if((e=k(e)).length<40||e.length>1024)throw Error("Expected valid bytes of private key as per FIPS 186");return $(B(P(e),f.n-u)+u)},randomBytes:(e=32)=>{if(X.web)return X.web.getRandomValues(new Uint8Array(e));if(X.node){let{randomBytes:t}=X.node;return Uint8Array.from(t(e))}throw Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>J.hashToPrivateKey(J.randomBytes(40)),precompute(e=8,t=A.BASE){let r=t===A.BASE?t:new A(t.x,t.y);return r._setWindowSize(e),r.multiply(l),r},sha256:async(...e)=>{if(X.web)return new Uint8Array(await X.web.subtle.digest("SHA-256",I(...e)));if(X.node){let{createHash:t}=X.node,r=t("sha256");return e.forEach(e=>r.update(e)),Uint8Array.from(r.digest())}throw Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(X.web){let r=await X.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=I(...t);return new Uint8Array(await X.web.subtle.sign("HMAC",r,n))}if(X.node){let{createHmac:r}=X.node,n=r("sha256",e);return t.forEach(e=>n.update(e)),Uint8Array.from(n.digest())}throw Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=Q[e];if(void 0===r){let t=await J.sha256(Uint8Array.from(e,e=>e.charCodeAt(0)));r=I(t,t),Q[e]=r}return J.sha256(r,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof n)throw new w("sha256Sync is undefined, you need to set it");let r=Q[e];if(void 0===r){let t=n(Uint8Array.from(e,e=>e.charCodeAt(0)));r=I(t,t),Q[e]=r}return n(r,...t)},_JacobianPoint:m};Object.defineProperties(J,{sha256Sync:{configurable:!1,get:()=>n,set(e){n||(n=e)}},hmacSha256Sync:{configurable:!1,get:()=>i,set(e){i||(i=e)}}})},1989:function(e,t,r){"use strict";let n,i,o;r.d(t,{YR:function(){return eG},UQ:function(){return e9}});var s,a,u,c,l=r(3419),h=r(2477),f=r(3877),d=r(6435),p=r(303),y=r(5822),g=r(7721),w=r(3557),b=r(5530),m=r(1316),S=r(5353),E=r(189);function A(e){if((0,g.nr)(e).byteLength!=y.UE)throw Error("Invalid signature");return{type:y.L8.MessageSignature,data:e}}function v(e,t){return{type:y.L8.Address,version:e,hash160:t}}function M(e){return{type:y.L8.PublicKey,data:(0,g.nr)(e)}}function x(e){return!(0,g.ci)(e.data).startsWith("04")}function I(e){return e.data.slice()}function C(e){var t;let r=e.readUInt8(),n=4===r?y.wS:y.yl;return t=(0,g.WW)([r,e.readBytes(n)]),{type:y.L8.PublicKey,data:t}}r(7457),m.P6.hmacSha256Sync=(e,...t)=>{let r=w.b.create(b.J,e);return t.forEach(e=>r.update(e)),r.digest()};var T=r(4762),N=r(7998);function L(e,t,r=0){return e[r+3]=t,t>>>=8,e[r+2]=t,t>>>=8,e[r+1]=t,t>>>=8,e[r]=t,e}var $=r(1634);class j extends Error{constructor(e){super(e),this.message=e,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class U extends j{constructor(e){super(e)}}class D extends j{constructor(e){super(e)}}class P extends j{constructor(e){super(e)}}class k extends j{constructor(e){super(e)}}function O(e,t){return(0,g.WW)([e,t])}function B(e,t){let r=[],n="ascii"==t?(0,g.QD)(e.data):(0,g.iY)(e.data),i=new Uint8Array(4);return L(i,n.length,0),r.push(i),r.push(n),O(e.type,(0,g.WW)(r))}function _(e){switch(e.type){case $.y.BoolTrue:case $.y.BoolFalse:return new Uint8Array([e.type]);case $.y.OptionalNone:case $.y.OptionalSome:return e.type===$.y.OptionalNone?new Uint8Array([e.type]):O(e.type,_(e.value));case $.y.Buffer:return function(e){let t=new Uint8Array(4);return L(t,e.buffer.length,0),O(e.type,(0,g.eV)(t,e.buffer))}(e);case $.y.UInt:return function(e){let t=(0,g.jk)(e.value,y.Pe);return O(e.type,t)}(e);case $.y.Int:return function(e){let t=(0,g.jk)((0,g.$j)(e.value,BigInt(y.Nv)),y.Pe);return O(e.type,t)}(e);case $.y.PrincipalStandard:return O(e.type,eo(e.address));case $.y.PrincipalContract:return O(e.type,(0,g.eV)(eo(e.address),eu(e.contractName)));case $.y.ResponseOk:case $.y.ResponseErr:return O(e.type,_(e.value));case $.y.List:return function(e){let t=[],r=new Uint8Array(4);for(let n of(L(r,e.list.length,0),t.push(r),e.list)){let e=_(n);t.push(e)}return O(e.type,(0,g.WW)(t))}(e);case $.y.Tuple:return function(e){let t=[],r=new Uint8Array(4);for(let n of(L(r,Object.keys(e.data).length,0),t.push(r),Object.keys(e.data).sort((e,t)=>e.localeCompare(t)))){let r=(0,N.v9)(n);t.push(eu(r));let i=_(e.data[n]);t.push(i)}return O(e.type,(0,g.WW)(t))}(e);case $.y.StringASCII:return B(e,"ascii");case $.y.StringUTF8:return B(e,"utf8");default:throw new U("Unable to serialize. Invalid Clarity Value.")}}var R=r(9969),H=r(851),z=r(8836);let F=()=>({type:$.y.BoolTrue}),K=()=>({type:$.y.BoolFalse});var W=r(1932);let G=new Map;class V{constructor(e){this.consumed=0,this.source=e}readBytes(e){let t=this.source.subarray(this.consumed,this.consumed+e);return this.consumed+=e,t}readUInt32BE(){var e;return 16777216*(e=this.readBytes(4))[0]+65536*e[1]+256*e[2]+e[3]}readUInt8(){return this.readBytes(1)[0]}readUInt16BE(){var e;return((e=this.readBytes(2))[0]<<8|e[1])>>>0}readBigUIntLE(e){let t=this.readBytes(e).slice().reverse(),r=(0,g.ci)(t);return BigInt(`0x${r}`)}readBigUIntBE(e){let t=this.readBytes(e),r=(0,g.ci)(t);return BigInt(`0x${r}`)}get readOffset(){return this.consumed}set readOffset(e){this.consumed=e}get internalBytes(){return this.source}readUInt8Enum(e,t){let r=this.readUInt8();if(function e(t,r){let n=G.get(t);if(void 0!==n)return n(r);let i=function(e){let t=new Set(Object.values(e).filter(e=>"number"==typeof e));return e=>t.has(e)}(t);return G.set(t,i),e(t,r)}(e,r))return r;throw t(r)}}let Y=e=>({type:$.y.StringASCII,data:e}),Z=e=>({type:$.y.StringUTF8,data:e});function q(e){var t,r;let n;if("string"==typeof e){let t="0x"===e.slice(0,2).toLowerCase();n=new V((0,g.nr)(t?e.slice(2):e))}else e instanceof Uint8Array?n=new V(e):n=e;switch(n.readUInt8Enum($.y,e=>{throw new D(`Cannot recognize Clarity Type: ${e}`)})){case $.y.Int:return(0,H.q)(n.readBytes(16));case $.y.UInt:return(0,H.R)(n.readBytes(16));case $.y.Buffer:let i=n.readUInt32BE();return(0,z.B)(n.readBytes(i));case $.y.BoolTrue:return F();case $.y.BoolFalse:return K();case $.y.PrincipalStandard:let o=es(n);return(0,W.D9)(o);case $.y.PrincipalContract:let s=es(n),a=ec(n);return(0,W.I0)(s,a);case $.y.ResponseOk:return t=q(n),{type:$.y.ResponseOk,value:t};case $.y.ResponseErr:return r=q(n),{type:$.y.ResponseErr,value:r};case $.y.OptionalNone:return(0,R.hr)();case $.y.OptionalSome:return(0,R.PK)(q(n));case $.y.List:let u=n.readUInt32BE(),c=[];for(let e=0;e<u;e++)c.push(q(n));return{type:$.y.List,list:c};case $.y.Tuple:let l=n.readUInt32BE(),h={};for(let e=0;e<l;e++){let e=ec(n).content;if(void 0===e)throw new D('"content" is undefined');h[e]=q(n)}return function(e){for(let t in e)if(!(0,T.YI)(t))throw Error(`"${t}" is not a valid Clarity name`);return{type:$.y.Tuple,data:e}}(h);case $.y.StringASCII:let f=n.readUInt32BE();return Y((0,g.Qs)(n.readBytes(f)));case $.y.StringUTF8:let d=n.readUInt32BE();return Z((0,g.Md)(n.readBytes(d)));default:throw new D("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}function X(e,t,r){var n;return("string"==typeof e&&(e=(0,N.v9)(e)),"string"==typeof t&&(n=t,t=(0,N.v9)(n,4,1e5)),"number"==typeof r)?{type:y.L8.Payload,payloadType:y.MX.VersionedSmartContract,clarityVersion:r,contractName:e,codeBody:t}:{type:y.L8.Payload,payloadType:y.MX.SmartContract,contractName:e,codeBody:t}}function Q(e,t){if(e.byteLength!=y.GY)throw Error(`Coinbase buffer size must be ${y.GY} bytes`);return void 0!=t?{type:y.L8.Payload,payloadType:y.MX.CoinbaseToAltRecipient,coinbaseBytes:e,recipient:t}:{type:y.L8.Payload,payloadType:y.MX.Coinbase,coinbaseBytes:e}}function J(e){let t=[];switch(t.push(e.payloadType),e.payloadType){case y.MX.TokenTransfer:t.push(_(e.recipient)),t.push((0,g.sO)(e.amount,!1,8)),t.push(en(e.memo));break;case y.MX.ContractCall:t.push(en(e.contractAddress)),t.push(en(e.contractName)),t.push(en(e.functionName));let r=new Uint8Array(4);L(r,e.functionArgs.length,0),t.push(r),e.functionArgs.forEach(e=>{t.push(_(e))});break;case y.MX.SmartContract:t.push(en(e.contractName)),t.push(en(e.codeBody));break;case y.MX.VersionedSmartContract:t.push(e.clarityVersion),t.push(en(e.contractName)),t.push(en(e.codeBody));break;case y.MX.PoisonMicroblock:break;case y.MX.Coinbase:t.push(e.coinbaseBytes);break;case y.MX.CoinbaseToAltRecipient:t.push(e.coinbaseBytes),t.push(_(e.recipient));break;case y.MX.NakamotoCoinbase:t.push(e.coinbaseBytes),t.push(_(e.recipient?(0,R.PK)(e.recipient):(0,R.hr)())),t.push(e.vrfProof);break;case y.MX.TenureChange:t.push((0,g.nr)(e.tenureHash)),t.push((0,g.nr)(e.previousTenureHash)),t.push((0,g.nr)(e.burnViewHash)),t.push((0,g.nr)(e.previousTenureEnd)),t.push(L(new Uint8Array(4),e.previousTenureBlocks)),t.push(function(e,t,r=0){return e[r]=t,e}(new Uint8Array(1),e.cause)),t.push((0,g.nr)(e.publicKeyHash))}return(0,g.WW)(t)}function ee(e){return A((0,g.ci)(e.readBytes(y.UE)))}function et(e,t){return{pubKeyEncoding:e,type:y.L8.TransactionAuthField,contents:t}}function er(e){return(0,g.nr)(e.data)}function en(e){switch(e.type){case y.L8.Address:return eo(e);case y.L8.Principal:return ea(e);case y.L8.LengthPrefixedString:return eu(e);case y.L8.MemoString:return function(e){let t=[],r=(0,g.iY)(e.content),n=(0,T.Sq)((0,g.ci)(r),2*y.dV);return t.push((0,g.nr)(n)),(0,g.WW)(t)}(e);case y.L8.AssetInfo:return ef(e);case y.L8.PostCondition:return ew(e);case y.L8.PublicKey:return I(e);case y.L8.LengthPrefixedList:return ey(e);case y.L8.Payload:return J(e);case y.L8.TransactionAuthField:return function(e){let t=[];switch(e.contents.type){case y.L8.PublicKey:e.pubKeyEncoding==y.gW.Compressed?(t.push(c.PublicKeyCompressed),t.push(I(e.contents))):(t.push(c.PublicKeyUncompressed),t.push(I(function(e){let t="string"==typeof e?e:(0,g.ci)(e);return M(m.E9.fromHex(t).toHex(!0))}(e.contents.data))));break;case y.L8.MessageSignature:e.pubKeyEncoding==y.gW.Compressed?t.push(c.SignatureCompressed):t.push(c.SignatureUncompressed),t.push(er(e.contents))}return(0,g.WW)(t)}(e);case y.L8.MessageSignature:return er(e)}}function ei(e,t,r,n){if(0===n.length)throw Error("Invalid number of public keys");if((t===y.dO.SerializeP2PKH||t===y.dO.SerializeP2WPKH)&&(1!==n.length||1!==r))throw Error("Invalid number of public keys or signatures");if(t===y.dO.SerializeP2WPKH||t===y.dO.SerializeP2WSH){for(let e=0;e<n.length;e++)if(!x(n[e]))throw Error("Public keys must be compressed for segwit")}switch(t){case y.dO.SerializeP2PKH:return v(e,(0,T.D2)(n[0].data));case y.dO.SerializeP2WPKH:return v(e,(0,T.rv)(n[0].data));case y.dO.SerializeP2SH:return v(e,(0,T.UI)(r,n.map(I)));case y.dO.SerializeP2WSH:return v(e,(0,T.tM)(r,n.map(I)))}}function eo(e){let t=[];return t.push((0,g.nr)((0,g.I4)(e.version,1))),t.push((0,g.nr)(e.hash160)),(0,g.WW)(t)}function es(e){let t=(0,g.WR)((0,g.ci)(e.readBytes(1))),r=(0,g.ci)(e.readBytes(20));return{type:y.L8.Address,version:t,hash160:r}}function ea(e){let t=[];return t.push(e.prefix),t.push(eo(e.address)),e.prefix===y.YZ.Contract&&t.push(eu(e.contractName)),(0,g.WW)(t)}function eu(e){let t=[],r=(0,g.iY)(e.content),n=r.byteLength;return t.push((0,g.nr)((0,g.I4)(n,e.lengthPrefixBytes))),t.push(r),(0,g.WW)(t)}function ec(e,t,r){t=t||1;let n=(0,g.WR)((0,g.ci)(e.readBytes(t))),i=(0,g.Md)(e.readBytes(n));return(0,N.v9)(i,t,r??128)}function el(e){if(e&&(0,T.pw)(e,y.dV))throw Error(`Memo exceeds maximum length of ${y.dV} bytes`);return{type:y.L8.MemoString,content:e}}function eh(e){let t=(0,g.Md)(e.readBytes(y.dV));return t=t.replace(/\u0000*$/,""),{type:y.L8.MemoString,content:t}}function ef(e){let t=[];return t.push(eo(e.address)),t.push(eu(e.contractName)),t.push(eu(e.assetName)),(0,g.WW)(t)}function ed(e){return{type:y.L8.AssetInfo,address:es(e),contractName:ec(e),assetName:ec(e)}}function ep(e,t){return{type:y.L8.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}function ey(e){let t=e.values,r=[];for(let n of(r.push((0,g.nr)((0,g.I4)(t.length,e.lengthPrefixBytes))),t))r.push(en(n));return(0,g.WW)(r)}function eg(e,t,r){let n=(0,g.WR)((0,g.ci)(e.readBytes(r||4))),i=[];for(let r=0;r<n;r++)switch(t){case y.L8.Address:i.push(es(e));break;case y.L8.LengthPrefixedString:i.push(ec(e));break;case y.L8.MemoString:i.push(eh(e));break;case y.L8.AssetInfo:i.push(ed(e));break;case y.L8.PostCondition:i.push(function(e){let t,r,n;let i=e.readUInt8Enum(y.sX,e=>{throw new D(`Could not read ${e} as PostConditionType`)}),o=function(e){let t=e.readUInt8Enum(y.YZ,e=>{throw new D(`Unexpected Principal payload type: ${e}`)}),r=es(e);if(t===y.YZ.Standard)return{type:y.L8.Principal,prefix:t,address:r};let n=ec(e);return{type:y.L8.Principal,prefix:t,address:r,contractName:n}}(e);switch(i){case y.sX.STX:return t=e.readUInt8Enum(y.DY,e=>{throw new D(`Could not read ${e} as FungibleConditionCode`)}),n=BigInt(`0x${(0,g.ci)(e.readBytes(8))}`),{type:y.L8.PostCondition,conditionType:y.sX.STX,principal:o,conditionCode:t,amount:n};case y.sX.Fungible:return r=ed(e),t=e.readUInt8Enum(y.DY,e=>{throw new D(`Could not read ${e} as FungibleConditionCode`)}),n=BigInt(`0x${(0,g.ci)(e.readBytes(8))}`),{type:y.L8.PostCondition,conditionType:y.sX.Fungible,principal:o,conditionCode:t,amount:n,assetInfo:r};case y.sX.NonFungible:r=ed(e);let s=q(e);return t=e.readUInt8Enum(y.Am,e=>{throw new D(`Could not read ${e} as FungibleConditionCode`)}),{type:y.L8.PostCondition,conditionType:y.sX.NonFungible,principal:o,conditionCode:t,assetInfo:r,assetName:s}}}(e));break;case y.L8.PublicKey:i.push(C(e));break;case y.L8.TransactionAuthField:i.push(function(e){let t=e.readUInt8Enum(c,e=>{throw new D(`Could not read ${e} as AuthFieldType`)});switch(t){case c.PublicKeyCompressed:return et(y.gW.Compressed,C(e));case c.PublicKeyUncompressed:return et(y.gW.Uncompressed,C(e));case c.SignatureCompressed:return et(y.gW.Compressed,ee(e));case c.SignatureUncompressed:return et(y.gW.Uncompressed,ee(e));default:throw Error(`Unknown auth field type: ${JSON.stringify(t)}`)}}(e))}return ep(i,r)}function ew(e){let t=[];if(t.push(e.conditionType),t.push(ea(e.principal)),(e.conditionType===y.sX.Fungible||e.conditionType===y.sX.NonFungible)&&t.push(ef(e.assetInfo)),e.conditionType===y.sX.NonFungible&&t.push(_(e.assetName)),t.push(e.conditionCode),e.conditionType===y.sX.STX||e.conditionType===y.sX.Fungible){if(e.amount>BigInt("0xffffffffffffffff"))throw new U("The post-condition amount may not be larger than 8 bytes");t.push((0,g.sO)(e.amount,!1,8))}return(0,g.WW)(t)}function eb(){return{type:y.L8.MessageSignature,data:(0,g.ci)(new Uint8Array(y.UE))}}function em(e,t,r,n){let i=ei(0,e,1,[M(t)]).hash160,o=x(M(t))?y.gW.Compressed:y.gW.Uncompressed;return{hashMode:e,signer:i,nonce:(0,g.HN)(r,!1),fee:(0,g.HN)(n,!1),keyEncoding:o,signature:eb()}}function eS(e){return"signature"in e}function eE(e){let t=(0,T.Xh)(e);return t.nonce=0,t.fee=0,eS(t)?t.signature=eb():t.fields=[],{...t,nonce:BigInt(0),fee:BigInt(0)}}function eA(e){return eS(e)?function(e){let t=[e.hashMode,(0,g.nr)(e.signer),(0,g.sO)(e.nonce,!1,8),(0,g.sO)(e.fee,!1,8),e.keyEncoding,er(e.signature)];return(0,g.WW)(t)}(e):function(e){let t=[e.hashMode,(0,g.nr)(e.signer),(0,g.sO)(e.nonce,!1,8),(0,g.sO)(e.fee,!1,8)],r=ep(e.fields);t.push(ey(r));let n=new Uint8Array(2);return!function(e,t,r=0){e[r+0]=t>>>8,e[r+1]=t>>>0}(n,e.signaturesRequired,0),t.push(n),(0,g.WW)(t)}(e)}function ev(e){let t=e.readUInt8Enum(y.dO,e=>{throw new D(`Could not parse ${e} as AddressHashMode`)});return t===y.dO.SerializeP2PKH||t===y.dO.SerializeP2WPKH?function(e,t){let r=(0,g.ci)(t.readBytes(20)),n=BigInt(`0x${(0,g.ci)(t.readBytes(8))}`),i=BigInt(`0x${(0,g.ci)(t.readBytes(8))}`),o=t.readUInt8Enum(y.gW,e=>{throw new D(`Could not parse ${e} as PubKeyEncoding`)});if(e===y.dO.SerializeP2WPKH&&o!=y.gW.Compressed)throw new D("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");return{hashMode:e,signer:r,nonce:n,fee:i,keyEncoding:o,signature:ee(t)}}(t,e):function(e,t){let r=(0,g.ci)(t.readBytes(20)),n=BigInt("0x"+(0,g.ci)(t.readBytes(8))),i=BigInt("0x"+(0,g.ci)(t.readBytes(8))),o=eg(t,y.L8.TransactionAuthField).values,s=!1,a=0;for(let e of o)switch(e.contents.type){case y.L8.PublicKey:x(e.contents)||(s=!0);break;case y.L8.MessageSignature:if(e.pubKeyEncoding===y.gW.Uncompressed&&(s=!0),65536===(a+=1))throw new k("Failed to parse multisig spending condition: too many signatures")}let u=t.readUInt16BE();if(s&&e===y.dO.SerializeP2SH)throw new k("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:r,nonce:n,fee:i,fields:o,signaturesRequired:u}}(t,e)}function eM(e,t,r,n){let i=e+(0,g.ci)(new Uint8Array([t]))+(0,g.ci)((0,g.sO)(r,!1,8))+(0,g.ci)((0,g.sO)(n,!1,8));if(49!==(0,g.nr)(i).byteLength)throw Error("Invalid signature hash length");return(0,T.G8)((0,g.nr)(i))}function ex(e,t,r){let n=33+y.UE,i=x(t)?y.gW.Compressed:y.gW.Uncompressed,o=e+(0,T.c1)(i.toString(16))+r.data,s=(0,g.nr)(o);if(s.byteLength>n)throw Error("Invalid signature hash length");return(0,T.G8)(s)}function eI(e,t,r,n,i,o){let s=eM(e,t,r,n),a=M(function(e,t,r=y.gW.Compressed){let n=function(e){if(e.length<129)throw Error("Invalid signature");let t=e.slice(0,2),r=e.slice(2,66),n=e.slice(66);return{recoveryId:(0,g.WR)(t),r,s:n}}(t.data),i=new m.Pc((0,g.y_)(n.r),(0,g.y_)(n.s)),o=m.E9.fromSignature(e,i,n.recoveryId),s=r===y.gW.Compressed;return o.toHex(s)}(s,o,i)),u=ex(s,a,o);return{pubKey:a,nextSigHash:u}}function eC(e){return{authType:y.Gr.Standard,spendingCondition:e}}function eT(e,t){return{authType:y.Gr.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||em(y.dO.SerializeP2PKH,"0".repeat(66),0,0)}}function eN(e){if(e.spendingCondition)switch(e.authType){case y.Gr.Standard:return eC(eE(e.spendingCondition));case y.Gr.Sponsored:return eT(eE(e.spendingCondition),function(){let e=em(y.dO.SerializeP2PKH,"",0,0);return e.signer=({type:y.L8.Address,version:y.TK.MainnetSingleSig,hash160:"0".repeat(40)}).hash160,e.keyEncoding=y.gW.Compressed,e.signature=eb(),e}());default:throw new P("Unexpected authorization type for signing")}throw Error("Authorization missing SpendingCondition")}(s=u||(u={}))[s.BlockFound=0]="BlockFound",s[s.Extended=1]="Extended",(a=c||(c={}))[a.PublicKeyCompressed=0]="PublicKeyCompressed",a[a.PublicKeyUncompressed=1]="PublicKeyUncompressed",a[a.SignatureCompressed=2]="SignatureCompressed",a[a.SignatureUncompressed=3]="SignatureUncompressed";class eL{constructor(e,t,r,n,i,o,s){if(this.version=e,this.auth=t,"amount"in r?this.payload={...r,amount:(0,g.HN)(r.amount,!1)}:this.payload=r,this.chainId=s??y.rC,this.postConditionMode=i??y.hW.Deny,this.postConditions=n??ep([]),o)this.anchorMode=(0,y.gO)(o);else switch(r.payloadType){case y.MX.Coinbase:case y.MX.CoinbaseToAltRecipient:case y.MX.NakamotoCoinbase:case y.MX.PoisonMicroblock:case y.MX.TenureChange:this.anchorMode=y.u0.OnChainOnly;break;case y.MX.ContractCall:case y.MX.SmartContract:case y.MX.VersionedSmartContract:case y.MX.TokenTransfer:this.anchorMode=y.u0.Any}}signBegin(){let e=(0,T.Xh)(this);return e.auth=eN(e.auth),e.txid()}verifyBegin(){let e=(0,T.Xh)(this);return e.auth=eN(e.auth),e.txid()}verifyOrigin(){return function(e,t){switch(e.authType){case y.Gr.Standard:case y.Gr.Sponsored:var r,n;return r=e.spendingCondition,n=y.Gr.Standard,eS(r)?function(e,t,r){let{pubKey:n,nextSigHash:i}=eI(t,r,e.fee,e.nonce,e.keyEncoding,e.signature),o=ei(0,e.hashMode,1,[n]).hash160;if(o!==e.signer)throw new k(`Signer hash does not equal hash of public key(s): ${o} != ${e.signer}`);return i}(r,t,n):function(e,t,r){let n=[],i=t,o=!1,s=0;for(let t of e.fields){let a;switch(t.contents.type){case y.L8.PublicKey:x(t.contents)||(o=!0),a=t.contents;break;case y.L8.MessageSignature:t.pubKeyEncoding===y.gW.Uncompressed&&(o=!0);let{pubKey:u,nextSigHash:c}=eI(i,r,e.fee,e.nonce,t.pubKeyEncoding,t.contents);if(i=c,a=u,65536===(s+=1))throw new k("Too many signatures")}n.push(a)}if(s!==e.signaturesRequired)throw new k("Incorrect number of signatures");if(o&&e.hashMode===y.dO.SerializeP2SH)throw new k("Uncompressed keys are not allowed in this hash mode");let a=ei(0,e.hashMode,e.signaturesRequired,n).hash160;if(a!==e.signer)throw new k(`Signer hash does not equal hash of public key(s): ${a} != ${e.signer}`);return i}(r,t,n);default:throw new P("Invalid origin auth type")}}(this.auth,this.verifyBegin())}signNextOrigin(e,t){if(void 0===this.auth.spendingCondition)throw Error('"auth.spendingCondition" is undefined');if(void 0===this.auth.authType)throw Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,e,y.Gr.Standard,t)}signNextSponsor(e,t){if(this.auth.authType===y.Gr.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,e,y.Gr.Sponsored,t);throw Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(e){let t=this.auth.spendingCondition;if(t&&!eS(t)){let r=x(e);t.fields.push(et(r?y.gW.Compressed:y.gW.Uncompressed,e))}else throw Error("Can't append public key to a singlesig condition")}signAndAppend(e,t,r,n){let{nextSig:i,nextSigHash:o}=function(e,t,r,n,i){let o=eM(e,t,r,n),s=function(e,t){let[r,n]=(0,m.kS)(t,e.data.slice(0,32),{canonical:!0,recovered:!0});if(null==n)throw Error("No signature recoveryId received");return A((0,g.I4)(n,1)+m.Pc.fromHex(r).toCompactHex())}(i,o),a=ex(o,function(e){let t=function(e){let t=(0,S.z)(e),r=t.length==E.yo;return{data:t,compressed:r}}(e),r=(0,m.$3)(t.data.slice(0,32),t.compressed);return M((0,g.ci)(r))}(i.data),s);return{nextSig:s,nextSigHash:a}}(t,r,e.fee,e.nonce,n);if(eS(e))e.signature=i;else{let t=(0,g.ci)(n.data).endsWith("01");e.fields.push(et(t?y.gW.Compressed:y.gW.Uncompressed,i))}return o}txid(){let e=this.serialize();return(0,T.G8)(e)}setSponsor(e){if(this.auth.authType!=y.Gr.Sponsored)throw new P("Cannot sponsor sign a non-sponsored transaction");this.auth=function(e,t){let r={...t,nonce:(0,g.HN)(t.nonce,!1),fee:(0,g.HN)(t.fee,!1)};return{...e,sponsorSpendingCondition:r}}(this.auth,e)}setFee(e){this.auth=function(e,t){switch(e.authType){case y.Gr.Standard:let r={...e.spendingCondition,fee:(0,g.HN)(t,!1)};return{...e,spendingCondition:r};case y.Gr.Sponsored:let n={...e.sponsorSpendingCondition,fee:(0,g.HN)(t,!1)};return{...e,sponsorSpendingCondition:n}}}(this.auth,e)}setNonce(e){this.auth=function(e,t){let r={...e.spendingCondition,nonce:(0,g.HN)(t,!1)};return{...e,spendingCondition:r}}(this.auth,e)}setSponsorNonce(e){if(this.auth.authType!=y.Gr.Sponsored)throw new P("Cannot sponsor sign a non-sponsored transaction");this.auth=function(e,t){let r={...e.sponsorSpendingCondition,nonce:(0,g.HN)(t,!1)};return{...e,sponsorSpendingCondition:r}}(this.auth,e)}serialize(){if(void 0===this.version)throw new U('"version" is undefined');if(void 0===this.chainId)throw new U('"chainId" is undefined');if(void 0===this.auth)throw new U('"auth" is undefined');if(void 0===this.anchorMode)throw new U('"anchorMode" is undefined');if(void 0===this.payload)throw new U('"payload" is undefined');let e=[];e.push(this.version);let t=new Uint8Array(4);return L(t,this.chainId,0),e.push(t),e.push(function(e){let t=[];switch(t.push(e.authType),e.authType){case y.Gr.Standard:t.push(eA(e.spendingCondition));break;case y.Gr.Sponsored:t.push(eA(e.spendingCondition)),t.push(eA(e.sponsorSpendingCondition))}return(0,g.WW)(t)}(this.auth)),e.push(this.anchorMode),e.push(this.postConditionMode),e.push(ey(this.postConditions)),e.push(J(this.payload)),(0,g.WW)(e)}}var e$=r(1898);let ej=()=>(0,e$.p)(),eU=(e,t)=>"undefined"==typeof window?Promise.resolve():ej().then(()=>(0,e$.b)([["connect-modal",[[1,"connect-modal",{defaultProviders:[16],installedProviders:[16],persistSelection:[4,"persist-selection"],callback:[16],cancelCallback:[16]}]]]],t));!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}();var eD=Object.defineProperty,eP=Object.defineProperties,ek=Object.getOwnPropertyDescriptors,eO=Object.getOwnPropertySymbols,eB=Object.prototype.hasOwnProperty,e_=Object.prototype.propertyIsEnumerable,eR=(e,t,r)=>t in e?eD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eH=(e,t)=>{for(var r in t||(t={}))eB.call(t,r)&&eR(e,r,t[r]);if(eO)for(var r of eO(t))e_.call(t,r)&&eR(e,r,t[r]);return e},ez=(e,t)=>eP(e,ek(t)),eF=(e,t)=>{var r={};for(var n in e)eB.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&eO)for(var n of eO(e))0>t.indexOf(n)&&e_.call(e,n)&&(r[n]=e[n]);return r};function eK(){return(0,d.b)((0,d.c)())||window.StacksProvider||window.BlockstackProvider}"undefined"!=typeof window&&(window.__CONNECT_VERSION__="__VERSION__");var eW=e=>{if(!e){let t=new l.X(["store_write"],document.location.href);e=new h.V({appConfig:t})}return e},eG=async(e,t=eK())=>{if(!t)throw Error("[Connect] No installed Stacks wallet found");let{redirectTo:r="/",manifestPath:n,onFinish:i,onCancel:o,sendToSignIn:s=!1,userSession:a,appDetails:u}=e,c=eW(a);c.isUserSignedIn()&&c.signUserOut();let l=c.generateAndStoreTransitKey(),h=c.makeAuthRequest(l,`${document.location.origin}${r}`,`${document.location.origin}${n}`,c.appConfig.scopes,void 0,void 0,{sendToSignIn:s,appDetails:u,connectVersion:"__VERSION__"});try{let e=await t.authenticationRequest(h);await c.handlePendingSignIn(e);let r=(0,f.decodeToken)(e),n=null==r?void 0:r.payload;null==i||i({authResponse:e,authResponsePayload:n,userSession:c})}catch(e){console.error("[Connect] Error during auth request",e),null==o||o()}},eV=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function eY(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");let t="";for(let r of e)t+=eV[r];return t}var eZ=((n=eZ||{}).ContractCall="contract_call",n.ContractDeploy="smart_contract",n.STXTransfer="token_transfer",n),eq=((i=eq||{}).BUFFER="buffer",i.UINT="uint",i.INT="int",i.PRINCIPAL="principal",i.BOOL="bool",i),eX=e=>{let t=e;if(!t){let e=new l.X(["store_write"],document.location.href);t=new h.V({appConfig:e})}return t};function eQ(e){try{return eX(e).loadUserData().appPrivateKey}catch(e){return!1}}var eJ=e=>{let t=eX(e).loadUserData().appPrivateKey,r=f.SECP256K1Client.derivePublicKey(t);return{privateKey:t,publicKey:r}};function e0(e){return e.map(e=>eY(ew(e)))}async function e1(e,t){let{postConditions:r}=e;return r&&"string"!=typeof r[0]&&(r=e0(r)),new f.TokenSigner("ES256k",t).signAsync(ez(eH({},e),{postConditions:r}))}function e2(e){let{postConditions:t}=e;return t&&"string"!=typeof t[0]&&(t=e0(t)),(0,f.createUnsecuredToken)(ez(eH({},e),{postConditions:t}))}var e4=async({token:e,options:t},r)=>{var n,i,o;try{let o=await r.transactionRequest(e),{txRaw:s}=o,a=function(e){if("string"!=typeof e)throw TypeError(`hexToBytes: expected string, got ${typeof e}`);let t=e.length%2?`0${e}`:e,r=new Uint8Array(t.length/2);for(let e=0;e<r.length;e++){let n=2*e,i=Number.parseInt(t.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[e]=i}return r}(s.replace(/^0x/,"")),c=function(e){let t;"string"==typeof e?t=new V("0x"===e.slice(0,2).toLowerCase()?(0,g.nr)(e.slice(2)):(0,g.nr)(e)):e instanceof Uint8Array?t=new V(e):t=e;let r=t.readUInt8Enum(y.Kn,e=>{throw Error(`Could not parse ${e} as TransactionVersion`)}),n=t.readUInt32BE(),i=function(e){let t;switch(e.readUInt8Enum(y.Gr,e=>{throw new D(`Could not parse ${e} as AuthType`)})){case y.Gr.Standard:return eC(t=ev(e));case y.Gr.Sponsored:return t=ev(e),eT(t,ev(e))}}(t),o=t.readUInt8Enum(y.u0,e=>{throw Error(`Could not parse ${e} as AnchorMode`)}),s=t.readUInt8Enum(y.hW,e=>{throw Error(`Could not parse ${e} as PostConditionMode`)}),a=eg(t,y.L8.PostCondition);return new eL(r,i,function(e){var t,r,n,i,o;switch(e.readUInt8Enum(y.MX,e=>{throw Error(`Cannot recognize PayloadType: ${e}`)})){case y.MX.TokenTransfer:let s=q(e),a=(0,g.HN)(e.readBytes(8),!1),c=eh(e);return t=s,r=c,"string"==typeof t&&(t=(0,W.L0)(t)),"string"==typeof r&&(r=el(r)),{type:y.L8.Payload,payloadType:y.MX.TokenTransfer,recipient:t,amount:(0,g.HN)(a,!1),memo:r??el("")};case y.MX.ContractCall:let l=es(e),h=ec(e),f=ec(e),d=[],p=e.readUInt32BE();for(let t=0;t<p;t++){let t=q(e);d.push(t)}return n=l,i=h,o=f,"string"==typeof n&&(n=(0,N.p6)(n)),"string"==typeof i&&(i=(0,N.v9)(i)),"string"==typeof o&&(o=(0,N.v9)(o)),{type:y.L8.Payload,payloadType:y.MX.ContractCall,contractAddress:n,contractName:i,functionName:o,functionArgs:d};case y.MX.SmartContract:let w=ec(e);return X(w,ec(e,4,1e5));case y.MX.VersionedSmartContract:{let t=e.readUInt8Enum(y.y,e=>{throw Error(`Cannot recognize ClarityVersion: ${e}`)}),r=ec(e);return X(r,ec(e,4,1e5),t)}case y.MX.PoisonMicroblock:return{type:y.L8.Payload,payloadType:y.MX.PoisonMicroblock};case y.MX.Coinbase:return Q(e.readBytes(y.GY));case y.MX.CoinbaseToAltRecipient:{let t=e.readBytes(y.GY);return Q(t,q(e))}case y.MX.NakamotoCoinbase:{let t=e.readBytes(y.GY),r=q(e);return function(e,t,r){if(e.byteLength!=y.GY)throw Error(`Coinbase buffer size must be ${y.GY} bytes`);if(r.byteLength!=y.ZA)throw Error(`VRF proof buffer size must be ${y.ZA} bytes`);return{type:y.L8.Payload,payloadType:y.MX.NakamotoCoinbase,coinbaseBytes:e,recipient:t.type===$.y.OptionalSome?t.value:void 0,vrfProof:r}}(t,r,e.readBytes(y.ZA))}case y.MX.TenureChange:let b=(0,g.ci)(e.readBytes(20)),m=(0,g.ci)(e.readBytes(20)),S=(0,g.ci)(e.readBytes(20)),E=(0,g.ci)(e.readBytes(32)),A=e.readUInt32BE(),v=e.readUInt8Enum(u,e=>{throw Error(`Cannot recognize TenureChangeCause: ${e}`)}),M=(0,g.ci)(e.readBytes(20));return{type:y.L8.Payload,payloadType:y.MX.TenureChange,tenureHash:b,previousTenureHash:m,burnViewHash:S,previousTenureEnd:E,previousTenureBlocks:A,cause:v,publicKeyHash:M}}}(t),a,s,o,n)}(a);if("sponsored"in t&&t.sponsored){null==(n=t.onFinish)||n.call(t,ez(eH({},o),{stacksTransaction:c}));return}null==(i=t.onFinish)||i.call(t,ez(eH({},o),{stacksTransaction:c}))}catch(e){console.error("[Connect] Error during transaction request",e),null==(o=t.onCancel)||o.call(t)}},e3=async e=>{let{functionArgs:t,appDetails:r,userSession:n}=e,i=eF(e,["functionArgs","appDetails","userSession"]),o=t.map(e=>"string"==typeof e?e:eY(_(e)));if(eQ(n)){let{privateKey:e,publicKey:t}=eJ(n),s=ez(eH({},i),{functionArgs:o,txType:"contract_call",publicKey:t});return r&&(s.appDetails=r),e1(s,e)}let s=ez(eH({},i),{functionArgs:o,txType:"contract_call"});return r&&(s.appDetails=r),e2(s)},e8=async e=>{let{appDetails:t,userSession:r}=e,n=eF(e,["appDetails","userSession"]);if(eQ(r)){let{privateKey:e,publicKey:i}=eJ(r),o=ez(eH({},n),{publicKey:i,txType:"smart_contract"});return t&&(o.appDetails=t),e1(o,e)}let i=ez(eH({},n),{txType:"smart_contract"});return t&&(i.appDetails=t),e2(i)},e5=async e=>{let{amount:t,appDetails:r,userSession:n}=e,i=eF(e,["amount","appDetails","userSession"]);if(eQ(n)){let{privateKey:e,publicKey:o}=eJ(n),s=ez(eH({},i),{amount:t.toString(10),publicKey:o,txType:"token_transfer"});return r&&(s.appDetails=r),e1(s,e)}let o=ez(eH({},i),{amount:t.toString(10),txType:"token_transfer"});return r&&(o.appDetails=r),e2(o)},e6=async e=>{let{txHex:t,appDetails:r,userSession:n}=e,i=eF(e,["txHex","appDetails","userSession"]);if(eQ(n)){let{privateKey:e,publicKey:o}=eJ(n),s=ez(eH({},i),{txHex:t,publicKey:o});return r&&(s.appDetails=r),e1(s,e)}let o=ez(eH({},i),{txHex:t});return r&&(o.appDetails=r),e2(o)};async function e7(e,t,r){let n,i,o;return e4({token:await t(eH(eH({},(n=e.network||new p.an,i=eX(e.userSession),o=ez(eH({},e),{network:n,userSession:i}),eH({stxAddress:function(e){var t;let{stxAddress:r,userSession:n,network:i}=e;if(r)return r;if(!n||!i)return;let o=null==(t=null==n?void 0:n.loadUserData().profile)?void 0:t.stxAddress,s={[y.oK.Mainnet]:"mainnet",[y.oK.Testnet]:"testnet"};return null==o?void 0:o[s[i.chainId]]}(o)},o))),e)),options:e},r)}function e9(e,t=eK()){if(!t)throw Error("[Connect] No installed Stacks wallet found");return e7(e,e3,t)}async function te(e,t){return new f.TokenSigner("ES256k",t).signAsync(eH({},e))}async function tt({token:e,options:t},r){var n,i;if(!r)throw Error("[Connect] No installed Stacks wallet found");try{let i=await r.psbtRequest(e);null==(n=t.onFinish)||n.call(t,i)}catch(e){console.error("[Connect] Error during psbt request",e),null==(i=t.onCancel)||i.call(t)}}var tr=async e=>{let{allowedSighash:t,hex:r,signAtIndex:n,userSession:i}=e,o=eF(e,["allowedSighash","hex","signAtIndex","userSession"]);if(eQ(i)){let{privateKey:e,publicKey:s}=eJ(i);return te(ez(eH({},o),{allowedSighash:t,hex:r,signAtIndex:n,publicKey:s}),e)}let s=eH({},o);return(0,f.createUnsecuredToken)(s)};async function tn(e,t,r){let n,i,o;return tt({token:await t(eH(eH({},(n=e.network||new p.an,i=eX(e.userSession),o=ez(eH({},e),{network:n,userSession:i}),eH({},o))),e)),options:e},r)}async function ti(e,t){return new f.TokenSigner("ES256k",t).signAsync(eH({},e))}function to(e){let t=e.network||new p.an,r=eX(e.userSession),n=ez(eH({},e),{network:t,userSession:r});return eH({stxAddress:function(e){var t;let{userSession:r,network:n}=e;if(!r||!n)return;let i=null==(t=null==r?void 0:r.loadUserData().profile)?void 0:t.stxAddress,o={[y.oK.Mainnet]:"mainnet",[y.oK.Testnet]:"testnet"};return null==i?void 0:i[o[n.chainId]]}(n)},n)}async function ts({token:e,options:t},r){var n,i;try{let i=await r.signatureRequest(e);null==(n=t.onFinish)||n.call(t,i)}catch(e){console.error("[Connect] Error during signature request",e),null==(i=t.onCancel)||i.call(t)}}var ta=async e=>{let{userSession:t}=e,r=eF(e,["userSession"]);if(eQ(t)){let{privateKey:e,publicKey:n}=eJ(t);return ti(ez(eH({},r),{publicKey:n}),e)}let n=eH({},r);return(0,f.createUnsecuredToken)(n)};async function tu(e,t,r){return ts({token:await t(eH(eH({},to(e)),e)),options:e},r)}async function tc(e,t,r){return td({token:await t(eH(eH({},to(e)),e)),options:e},r)}function tl(e){return ez(eH({},e),{message:eY(_(e.message)),domain:eY(_(e.domain))})}async function th(e,t){return new f.TokenSigner("ES256k",t).signAsync(tl(e))}async function tf(e){let{userSession:t}=e,r=eF(e,["userSession"]);if(eQ(t)){let{privateKey:e,publicKey:n}=eJ(t);return th(ez(eH({},r),{publicKey:n}),e)}return(0,f.createUnsecuredToken)(tl(e))}async function td({token:e,options:t},r){var n,i;try{let i=await r.structuredDataSignatureRequest(e);null==(n=t.onFinish)||n.call(t,i)}catch(e){console.error("[Connect] Error during signature request",e),null==(i=t.onCancel)||i.call(t)}}async function tp(e,t){return new f.TokenSigner("ES256k",t).signAsync(eH({},e))}async function ty({token:e,options:t},r){var n,i;try{let i=await r.profileUpdateRequest(e);null==(n=t.onFinish)||n.call(t,i)}catch(e){console.error("[Connect] Error during signature request",e),null==(i=t.onCancel)||i.call(t)}}var tg=async e=>{let{userSession:t,profile:r}=e,n=eF(e,["userSession","profile"]);if(eQ(t)){let{privateKey:e,publicKey:i}=eJ(t);return tp(ez(eH({},n),{profile:r,publicKey:i}),e)}let i=eH({},n);return(0,f.createUnsecuredToken)(i)};async function tw(e,t,r){let n,i,o;return ty({token:await t(eH(eH({},(n=e.network||new p.an,i=eX(e.userSession),o=ez(eH({},e),{network:n,userSession:i}),eH({},o))),e)),options:e},r)}var tb=((o=tb||{})[o.DEFAULT=0]="DEFAULT",o[o.ALL=1]="ALL",o[o.NONE=2]="NONE",o[o.SINGLE=3]="SINGLE",o[o.ANYONECANPAY=128]="ANYONECANPAY",o),tm=[{id:"LeatherProvider",name:"Leather",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=",webUrl:"https://leather.io",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",mozillaAddOnsUrl:"https://leather.io/install-extension"},{id:"XverseProviders.StacksProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://xverse.app",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",mozillaAddOnsUrl:"https://www.xverse.app/download"},{id:"AsignaProvider",name:"Asigna",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",webUrl:"https://asigna.io",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/asigna-multisig/gopddoinbenlokghakiafackadkbnlid"}];function tS(e,t=!0){return function(r,n){var i;if(n)return e(r,n);let o=(0,d.c)(),s=eK();if(o&&s)return e(r,s);if("undefined"==typeof window)return;eU(window);let a=null!=(i=null==r?void 0:r.defaultProviders)?i:tm,u=(0,d.a)(a),c=document.createElement("connect-modal");c.defaultProviders=a,c.installedProviders=u,c.persistSelection=t;let l=document.body.style.overflow;document.body.style.overflow="hidden";let h=()=>{c.remove(),document.body.style.overflow=l};c.callback=t=>{h(),e(r,t)},c.cancelCallback=()=>{var e;h(),null==(e=r.onCancel)||e.call(r)},document.body.appendChild(c);let f=e=>{"Escape"===e.key&&(document.removeEventListener("keydown",f),c.remove())};document.addEventListener("keydown",f)}}tS(eG,!1),tS(function(e,t=eK()){if(!t)throw Error("[Connect] No installed Stacks wallet found");return e7(e,e5,t)}),tS(e9),tS(function(e,t=eK()){if(!t)throw Error("[Connect] No installed Stacks wallet found");return e7(e,e8,t)}),tS(function(e,t=eK()){if(!t)throw Error("[Connect] No installed Stacks wallet found");return e7(e,e6,t)}),tS(function(e,t=eK()){return tn(e,tr,t)}),tS(function(e,t=eK()){if(!t)throw Error("[Connect] No installed Stacks wallet found");return tw(e,tg,t)}),tS(function(e,t=eK()){if(!t)throw Error("[Connect] No installed Stacks wallet found");return tu(e,ta,t)}),tS(function(e,t=eK()){if(!t)throw Error("[Connect] No installed Stacks wallet found");return tc(e,tf,t)})}}]);